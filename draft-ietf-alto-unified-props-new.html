<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>ALTO Extension: Entity Property Maps</title>
<meta content="Wendy Roome" name="author">
<meta content="Sabine Randriamasy" name="author">
<meta content="Y. Richard Yang" name="author">
<meta content="Jingxuan Jensen Zhang" name="author">
<meta content="Kai Gao" name="author">
<meta content='
       This document extends the base Application-Layer Traffic Optimization (ALTO)
Protocol by generalizing the concept of "endpoint properties" as applied to
endpoints as defined by IP addresses to endpoints defined by a wider set of
objects. Further, these properties are presented as maps, similar to the
network and cost maps in the base ALTO protocol. The protocol is extended in
two major directions. First, from endpoints restricted to IP addresses to
entities covering a wider and extensible set of objects; second, from
properties on specific endpoints to entire entity property maps. These
extensions introduce additional features allowing entities and property
values to be specific to a given information resource. This is made possible
by a generic and flexible design of entity and property types. 
    ' name="description">
<meta content="xml2rfc 3.6.0" name="generator">
<meta content="ALTO" name="keyword">
<meta content="draft-ietf-alto-unified-props-new-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.6.0
    Python 3.8.8
    appdirs 1.4.4
    ConfigArgParse 1.2.3
    google-i18n-address 2.4.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.2
    kitchen 1.2.6
    lxml 4.6.3
    pycountry 20.7.3
    pyflakes 2.2.0
    PyYAML 5.4.1
    requests 2.25.1
    setuptools 51.3.3
    six 1.15.0
-->
<link href="draft-ietf-alto-unified-props-new.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@import url('https://martinthomson.github.io/i-d-template/fonts.css');

html {
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  scrollbar-color: #bbb #eee;
}
@media (prefers-color-scheme: dark) {
html {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  font-family: "Cabin Condensed", sans-serif;
  font-weight: 600;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
#title {
  padding: 1em 0 0.2em;
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
}
#abstract+p, #abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 18px;
  line-height: 24px;
}
p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}
dd.break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href].selfRef {
  color: var(--text-color);
}
a[href] {
  color: var(--link-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px 'Oxygen Mono', monospace;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
}
@media screen {
  pre {
    display: inline-block;
    overflow-x: auto;
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  pre + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
tr:nth-child(2n) > td {
  background-color: var(--background-color);
}
tr:nth-child(2n+1) > td {
  background-color: var(--highlight-color);
}
thead+tbody > tr:nth-child(2n) > td {
  background-color: var(--highlight-color);
}
thead+tbody > tr:nth-child(2n+1) > td {
  background-color: var(--background-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
}
a.pilcrow[href] { color: var(--pilcrow-weak); }
a.pilcrow[href]:hover { text-decoration: none; }
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 8em;
}
#identifiers dt {
  width: var(--identifier-width);
  margin: 0;
  clear: left;
  float: left;
  text-align: right;
}
#identifiers dd {
  margin: 0 0 0 calc(1em + var(--identifier-width));
  min-width: 5em;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
#toc nav ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
#toc nav li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
#toc a.xref {
  white-space: normal;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 500px) {
  .index ul {
    column-count: 2;
    column-gap: 20px;
  }
  .index ul ul {
    column-count: 1;
    column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}
address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc.active {
      opacity: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 8px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active nav {
    display: block;
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin-top: 2px;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  #toc nav > ul  {
    margin-bottom: 2em;
  }
  #toc ul {
    margin: 0 0 0 4px;
    font-size: var(--small-font-size);
  }
  #toc ul p, #toc ul li {
    margin: 2px 0;
    line-height: 22px;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Changes introduced to fix issues found during implementation */

/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}

/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin: 8px 0.5em 0;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table .text-left, table .text-left {
  text-align: left;
}
table .text-center, table .text-center {
  text-align: center;
}
table .text-right, table .text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 20em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Give the table caption label the same styling as the figcaption */

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  dd {
    page-break-before: avoid;
  }
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
</style>

</head>
<body>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Entity Property Maps</td>
<td class="right">April 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Roome, et al.</td>
<td class="center">Expires 15 October 2021</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">ALTO WG</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-alto-unified-props-new-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-04-13" class="published">13 April 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2021-10-15">15 October 2021</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">W. Roome</div>
<div class="org">Nokia Bell Labs</div>
</div>
<div class="author">
      <div class="author-name">S. Randriamasy</div>
<div class="org">Nokia Bell Labs</div>
</div>
<div class="author">
      <div class="author-name">Y. Yang</div>
<div class="org">Yale University</div>
</div>
<div class="author">
      <div class="author-name">J. Zhang</div>
<div class="org">Tongji University</div>
</div>
<div class="author">
      <div class="author-name">K. Gao</div>
<div class="org">Sichuan University</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">ALTO Extension: Entity Property Maps</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document extends the base Application-Layer Traffic Optimization (ALTO)
Protocol by generalizing the concept of "endpoint properties" as applied to
endpoints as defined by IP addresses to endpoints defined by a wider set of
objects. Further, these properties are presented as maps, similar to the
network and cost maps in the base ALTO protocol. The protocol is extended in
two major directions. First, from endpoints restricted to IP addresses to
entities covering a wider and extensible set of objects; second, from
properties on specific endpoints to entire entity property maps. These
extensions introduce additional features allowing entities and property
values to be specific to a given information resource. This is made possible
by a generic and flexible design of entity and property types.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 15 October 2021.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-requirements-language" class="xref">Requirements Language</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-basic-features-of-the-entit" class="xref">Basic Features of the Entity Property Map Extension</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-entity" class="xref">Entity</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-entity-domain" class="xref">Entity Domain</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.3.2.2.2.1">
                    <p id="section-toc.1-1.3.2.2.2.1.1"><a href="#section-3.2.1" class="xref">3.2.1</a>.  <a href="#name-entity-domain-type" class="xref">Entity Domain Type</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.3.2.2.2.2">
                    <p id="section-toc.1-1.3.2.2.2.2.1"><a href="#section-3.2.2" class="xref">3.2.2</a>.  <a href="#name-entity-domain-name" class="xref">Entity Domain Name</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-entity-property-type" class="xref">Entity Property Type</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="xref">3.4</a>.  <a href="#name-new-information-resource-an" class="xref">New information resource and media type: ALTO Property Map</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-advanced-features-of-the-en" class="xref">Advanced Features of the Entity Property Map Extension</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-entity-identifier-and-entit" class="xref">Entity Identifier and Entity Domain Name</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-resource-specific-entity-do" class="xref">Resource-Specific Entity Domain Name</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-resource-specific-entity-pr" class="xref">Resource-Specific Entity Property Value</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-entity-hierarchy-and-proper" class="xref">Entity Hierarchy and Property Inheritance</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.4.2.4.2.1">
                    <p id="section-toc.1-1.4.2.4.2.1.1"><a href="#section-4.4.1" class="xref">4.4.1</a>.  <a href="#name-entity-hierarchy" class="xref">Entity Hierarchy</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.4.2.4.2.2">
                    <p id="section-toc.1-1.4.2.4.2.2.1"><a href="#section-4.4.2" class="xref">4.4.2</a>.  <a href="#name-property-inheritance" class="xref">Property Inheritance</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.4.2.4.2.3">
                    <p id="section-toc.1-1.4.2.4.2.3.1"><a href="#section-4.4.3" class="xref">4.4.3</a>.  <a href="#name-property-value-unicity" class="xref">Property Value Unicity</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.4.2.5">
                <p id="section-toc.1-1.4.2.5.1"><a href="#section-4.5" class="xref">4.5</a>.  <a href="#name-supported-properties-on-ent" class="xref">Supported Properties on Entity Domains in Property Map Capabilities</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.4.2.6">
                <p id="section-toc.1-1.4.2.6.1"><a href="#section-4.6" class="xref">4.6</a>.  <a href="#name-defining-information-resour" class="xref">Defining Information Resource for Resource-Specific Entity Domains</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.4.2.6.2.1">
                    <p id="section-toc.1-1.4.2.6.2.1.1"><a href="#section-4.6.1" class="xref">4.6.1</a>.  <a href="#name-defining-information-resourc" class="xref">Defining Information Resource and its Media Type</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.4.2.6.2.2">
                    <p id="section-toc.1-1.4.2.6.2.2.1"><a href="#section-4.6.2" class="xref">4.6.2</a>.  <a href="#name-examples-of-defining-inform" class="xref">Examples of Defining Information Resources and Their Media Types</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.4.2.7">
                <p id="section-toc.1-1.4.2.7.1"><a href="#section-4.7" class="xref">4.7</a>.  <a href="#name-defining-information-resource" class="xref">Defining Information Resource for Resource-Specific Property Values</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-protocol-specification-basi" class="xref">Protocol Specification: Basic Data Types</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-entity-domain-2" class="xref">Entity Domain</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.5.2.1.2.1">
                    <p id="section-toc.1-1.5.2.1.2.1.1"><a href="#section-5.1.1" class="xref">5.1.1</a>.  <a href="#name-entity-domain-type-2" class="xref">Entity Domain Type</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.1.2.2">
                    <p id="section-toc.1-1.5.2.1.2.2.1"><a href="#section-5.1.2" class="xref">5.1.2</a>.  <a href="#name-entity-domain-name-2" class="xref">Entity Domain Name</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.1.2.3">
                    <p id="section-toc.1-1.5.2.1.2.3.1"><a href="#section-5.1.3" class="xref">5.1.3</a>.  <a href="#name-entity-identifier" class="xref">Entity Identifier</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.1.2.4">
                    <p id="section-toc.1-1.5.2.1.2.4.1"><a href="#section-5.1.4" class="xref">5.1.4</a>.  <a href="#name-hierarchy-and-inheritance" class="xref">Hierarchy and Inheritance</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-entity-property" class="xref">Entity Property</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.5.2.2.2.1">
                    <p id="section-toc.1-1.5.2.2.2.1.1"><a href="#section-5.2.1" class="xref">5.2.1</a>.  <a href="#name-entity-property-type-2" class="xref">Entity Property Type</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.2.2.2">
                    <p id="section-toc.1-1.5.2.2.2.2.1"><a href="#section-5.2.2" class="xref">5.2.2</a>.  <a href="#name-entity-property-name" class="xref">Entity Property Name</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.5.2.2.2.3">
                    <p id="section-toc.1-1.5.2.2.2.3.1"><a href="#section-5.2.3" class="xref">5.2.3</a>.  <a href="#name-format-for-entity-property-" class="xref">Format for Entity Property Value</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-entity-domain-types-defined" class="xref">Entity Domain Types Defined in this Document</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-internet-address-domain-typ" class="xref">Internet Address Domain Types</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.6.2.1.2.1">
                    <p id="section-toc.1-1.6.2.1.2.1.1"><a href="#section-6.1.1" class="xref">6.1.1</a>.  <a href="#name-entity-domain-type-ipv4" class="xref">Entity Domain Type: IPv4</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.1.2.2">
                    <p id="section-toc.1-1.6.2.1.2.2.1"><a href="#section-6.1.2" class="xref">6.1.2</a>.  <a href="#name-entity-domain-type-ipv6" class="xref">Entity Domain Type: IPv6</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.1.2.3">
                    <p id="section-toc.1-1.6.2.1.2.3.1"><a href="#section-6.1.3" class="xref">6.1.3</a>.  <a href="#name-hierarchy-and-inheritance-o" class="xref">Hierarchy and Inheritance of Internet Address Domains</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.1.2.4">
                    <p id="section-toc.1-1.6.2.1.2.4.1"><a href="#section-6.1.4" class="xref">6.1.4</a>.  <a href="#name-defining-information-resource-" class="xref">Defining Information Resource Media Type for domain types IPv4 and IPv6</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-entity-domain-type-pid" class="xref">Entity Domain Type: PID</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2.2.1">
                    <p id="section-toc.1-1.6.2.2.2.1.1"><a href="#section-6.2.1" class="xref">6.2.1</a>.  <a href="#name-entity-domain-type-identifier" class="xref">Entity Domain Type Identifier</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2.2.2">
                    <p id="section-toc.1-1.6.2.2.2.2.1"><a href="#section-6.2.2" class="xref">6.2.2</a>.  <a href="#name-domain-specific-entity-identi" class="xref">Domain-Specific Entity Identifiers</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2.2.3">
                    <p id="section-toc.1-1.6.2.2.2.3.1"><a href="#section-6.2.3" class="xref">6.2.3</a>.  <a href="#name-hierarchy-and-inheritance-2" class="xref">Hierarchy and Inheritance</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2.2.4">
                    <p id="section-toc.1-1.6.2.2.2.4.1"><a href="#section-6.2.4" class="xref">6.2.4</a>.  <a href="#name-defining-information-resource-m" class="xref">Defining Information Resource Media Type for Domain Type PID</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.2.2.5">
                    <p id="section-toc.1-1.6.2.2.2.5.1"><a href="#section-6.2.5" class="xref">6.2.5</a>.  <a href="#name-relationship-to-internet-ad" class="xref">Relationship To Internet Addresses Domains</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="xref">6.3</a>.  <a href="#name-internet-address-properties" class="xref">Internet Address Properties vs. PID Properties</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-property-map" class="xref">Property Map</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-media-type" class="xref">Media Type</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-http-method" class="xref">HTTP Method</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="xref">7.3</a>.  <a href="#name-accept-input-parameters" class="xref">Accept Input Parameters</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.7.2.4">
                <p id="section-toc.1-1.7.2.4.1"><a href="#section-7.4" class="xref">7.4</a>.  <a href="#name-capabilities" class="xref">Capabilities</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.7.2.5">
                <p id="section-toc.1-1.7.2.5.1"><a href="#section-7.5" class="xref">7.5</a>.  <a href="#name-uses" class="xref">Uses</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.7.2.6">
                <p id="section-toc.1-1.7.2.6.1"><a href="#section-7.6" class="xref">7.6</a>.  <a href="#name-response" class="xref">Response</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-filtered-property-map" class="xref">Filtered Property Map</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="xref">8.1</a>.  <a href="#name-media-type-2" class="xref">Media Type</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="xref">8.2</a>.  <a href="#name-http-method-2" class="xref">HTTP Method</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a href="#section-8.3" class="xref">8.3</a>.  <a href="#name-accept-input-parameters-2" class="xref">Accept Input Parameters</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.8.2.4">
                <p id="section-toc.1-1.8.2.4.1"><a href="#section-8.4" class="xref">8.4</a>.  <a href="#name-capabilities-2" class="xref">Capabilities</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.8.2.5">
                <p id="section-toc.1-1.8.2.5.1"><a href="#section-8.5" class="xref">8.5</a>.  <a href="#name-uses-2" class="xref">Uses</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.8.2.6">
                <p id="section-toc.1-1.8.2.6.1"><a href="#section-8.6" class="xref">8.6</a>.  <a href="#name-filtered-property-map-respo" class="xref">Filtered Property Map Response</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.8.2.7">
                <p id="section-toc.1-1.8.2.7.1"><a href="#section-8.7" class="xref">8.7</a>.  <a href="#name-entity-property-type-define" class="xref">Entity property type defined in this document</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.8.2.7.2.1">
                    <p id="section-toc.1-1.8.2.7.2.1.1"><a href="#section-8.7.1" class="xref">8.7.1</a>.  <a href="#name-entity-property-type-pid" class="xref">Entity Property Type: pid</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-impact-on-legacy-alto-serve" class="xref">Impact on Legacy ALTO Servers and ALTO Clients</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="xref">9.1</a>.  <a href="#name-impact-on-endpoint-property" class="xref">Impact on Endpoint Property Service</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="xref">9.2</a>.  <a href="#name-impact-on-resource-specific" class="xref">Impact on Resource-Specific Properties</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.9.2.3">
                <p id="section-toc.1-1.9.2.3.1"><a href="#section-9.3" class="xref">9.3</a>.  <a href="#name-impact-on-other-properties" class="xref">Impact on Other Properties</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-examples" class="xref">Examples</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="xref">10.1</a>.  <a href="#name-network-map" class="xref">Network Map</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="xref">10.2</a>.  <a href="#name-property-definitions" class="xref">Property Definitions</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.10.2.3">
                <p id="section-toc.1-1.10.2.3.1"><a href="#section-10.3" class="xref">10.3</a>.  <a href="#name-information-resource-direct" class="xref">Information Resource Directory (IRD)</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.10.2.4">
                <p id="section-toc.1-1.10.2.4.1"><a href="#section-10.4" class="xref">10.4</a>.  <a href="#name-full-property-map-example" class="xref">Full Property Map Example</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.10.2.5">
                <p id="section-toc.1-1.10.2.5.1"><a href="#section-10.5" class="xref">10.5</a>.  <a href="#name-filtered-property-map-examp" class="xref">Filtered Property Map Example #1</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.10.2.6">
                <p id="section-toc.1-1.10.2.6.1"><a href="#section-10.6" class="xref">10.6</a>.  <a href="#name-filtered-property-map-exampl" class="xref">Filtered Property Map Example #2</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.10.2.7">
                <p id="section-toc.1-1.10.2.7.1"><a href="#section-10.7" class="xref">10.7</a>.  <a href="#name-filtered-property-map-example" class="xref">Filtered Property Map Example #3</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.10.2.8">
                <p id="section-toc.1-1.10.2.8.1"><a href="#section-10.8" class="xref">10.8</a>.  <a href="#name-filtered-property-map-example-" class="xref">Filtered Property Map Example #4</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.10.2.9">
                <p id="section-toc.1-1.10.2.9.1"><a href="#section-10.9" class="xref">10.9</a>.  <a href="#name-filtered-property-map-for-a" class="xref">Filtered Property Map for ANEs Example #5</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#section-12.1" class="xref">12.1</a>.  <a href="#name-application-alto-media-type" class="xref">application/alto-* Media Types</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a href="#section-12.2" class="xref">12.2</a>.  <a href="#name-alto-entity-domain-type-reg" class="xref">ALTO Entity Domain Type Registry</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.12.2.2.2.1">
                    <p id="section-toc.1-1.12.2.2.2.1.1"><a href="#section-12.2.1" class="xref">12.2.1</a>.  <a href="#name-consistency-between-alto-ad" class="xref">Consistency between ALTO Address Type Registry and ALTO Entity Domain Type Registry</a></p>
</li>
                  <li class="compact toc ulEmpty" id="section-toc.1-1.12.2.2.2.2">
                    <p id="section-toc.1-1.12.2.2.2.2.1"><a href="#section-12.2.2" class="xref">12.2.2</a>.  <a href="#name-alto-entity-domain-type-regi" class="xref">ALTO Entity Domain Type Registration Process</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.12.2.3">
                <p id="section-toc.1-1.12.2.3.1"><a href="#section-12.3" class="xref">12.3</a>.  <a href="#name-alto-entity-property-type-r" class="xref">ALTO Entity Property Type Registry</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="xref">13</a>. <a href="#name-acknowledgments" class="xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-14" class="xref">14</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulEmpty">
<li class="compact toc ulEmpty" id="section-toc.1-1.14.2.1">
                <p id="section-toc.1-1.14.2.1.1"><a href="#section-14.1" class="xref">14.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulEmpty" id="section-toc.1-1.14.2.2">
                <p id="section-toc.1-1.14.2.2.1"><a href="#section-14.2" class="xref">14.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#section-appendix.a" class="xref">Appendix A</a>.  <a href="#name-features-introduced-with-th" class="xref">Features introduced with the Entity Property Maps extension</a></p>
</li>
          <li class="compact toc ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#section-appendix.b" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">The ALTO protocol <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span> introduces the concept of "properties" attached
to "endpoint addresses", and defines the Endpoint Property Service (EPS) to
allow ALTO clients to retrieve those properties. While useful, the EPS, as
defined in <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>, has at least three limitations.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">First, the EPS allows properties to be associated with only endpoints that
are identified by individual communication addresses like IPv4 and IPv6
addresses. It is reasonable to think that collections of endpoints, as
defined by CIDRs <span>[<a href="#RFC4632" class="xref">RFC4632</a>]</span> or PIDs, may also have properties. Furthermore,
recent ALTO use cases show that properties of entities such as network flows
<span>[<a href="#RFC7011" class="xref">RFC7011</a>]</span> and routing elements <span>[<a href="#RFC7921" class="xref">RFC7921</a>]</span> are also useful. Such cases are
documented in <span>[<a href="#I-D.gao-alto-fcs" class="xref">I-D.gao-alto-fcs</a>]</span>. The current EPS however is restricted to
individual endpoints and cannot be applied to those entities.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">Second, the EPS only allows endpoints identified by global communication
addresses. However, an endpoint address may be a local IP address or an
anycast IP address that may not be globally unique. Additionally, an entity
such as a PID may have an identifier that is not globally unique. That is, a
same PID identifier may be used in multiple network maps, while in each
network map, this PID identifier points to a different set of addresses. For
example, PID "mypid10" may be defined in "netmap1" and "netmap2" while in
each network map, "mypid10" covers a different set of addresses.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">Third, the EPS is only defined as a POST-mode service. Clients must request
the properties for an explicit set of endpoint addresses. By contrast,
<span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span> defines a GET-mode cost map resource which returns all available
costs, so a client can get a full set of costs once, and then process cost
lookups without querying the ALTO server. <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span> does not define a
similar service for endpoint properties. At first, a map of endpoint
properties might seem impractical, because it could require enumerating the
property value for every possible endpoint. However, in practice, it is
highly unlikely that properties will be defined for every endpoint address.
It is much more likely that properties may be defined for only a subset of
endpoint addresses, and the specification of properties uses an aggregation
representation to allow enumeration. This is particularly true if blocks of
endpoint addresses with a common prefix (e.g., a CIDR) have the same value
for a property. Entities in other domains may very well allow aggregated
representation and hence be enumerable as well.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">To address the three limitations, this document specifies a protocol
extension for defining and retrieving ALTO properties:<a href="#section-1-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-6.1">The first limitation is addressed by introducing a generic
concept called ALTO Entity, which generalizes an endpoint and may represent
a PID, a network element, a cell in a cellular network, an abstracted
network element as defined in <span>[<a href="#I-D.ietf-alto-path-vector" class="xref">I-D.ietf-alto-path-vector</a>]</span>, or other
physical or logical objects involved in a network topology. Each entity is
included in a collection called an ALTO Entity Domain. Since each ALTO
Entity Domain includes only one type of entities, each Entity Domain can be
classified by the type of entities in it.<a href="#section-1-6.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-6.2">The second limitation is addressed by using resource-specific
entity domains. A resource-specific entity domain contains entities that
are defined and identified with respect to a given ALTO information
resource, which provides scoping. For example, an entity domain containing
PIDs is identified with respect to the network map in which these PIDs are
defined. Likewise, an entity domain containing local IP addresses may be
defined with respect to a local network map.<a href="#section-1-6.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-6.3">The third limitation is addressed by defining two new types of ALTO
information resources: Property Map, detailed in <a href="#prop-map" class="xref">Section 7</a> and Filtered
Property Map, detailed in <a href="#filter-prop-map" class="xref">Section 8</a>. The former is a GET-mode
resource that returns the property values for all entities in one or more
entity domains, and is analogous to a network map or a cost map in
<span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>. The latter is a POST-mode resource that returns the values for
sets of properties and entities requested by the client, and is analogous
to a filtered network map or a filtered cost map.<a href="#section-1-6.3" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-1-7">The protocol extension defined in this document is augmentable. New entity
domain types can be defined without revising the specification defined in
this document. Similarly, new cost metrics and new endpoint properties can be
defined in other documents without revising the protocol specification
defined in <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>.<a href="#section-1-7" class="pilcrow">¶</a></p>
<div id="terminology">
<section id="section-1.1">
        <h3 id="name-terminology">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
        </h3>
<p id="section-1.1-1">This document uses the following terms and abbreviations, that will be
further defined in the document. While this document introduces the feature
"entity property map", it will use both the term "property map" and "entity
property map" to refer to this feature.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1.1-2.1">Transaction: A request/response exchange between an ALTO Client and an ALTO Server.<a href="#section-1.1-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-1.1-2.2">Client: When used with a capital "C", this term refers to an ALTO Client.<a href="#section-1.1-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-1.1-2.3">Server: When used with a capital "S", this term refers to an ALTO Server.<a href="#section-1.1-2.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-1.1-2.4">EPM: An abbreviation for entity property map.<a href="#section-1.1-2.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-1.1-2.5">FPM: An abbreviation for filtered property map.<a href="#section-1.1-2.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-1.1-2.6">EPS: An abbreviation for Endpoint Property Service.<a href="#section-1.1-2.6" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="requirements-language">
<section id="section-2">
      <h2 id="name-requirements-language">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
      </h2>
<p id="section-2-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD",
"SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this
document are to be interpreted as described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span>
when, and only when, they appear in all capitals, as shown here. When the
words appear in lower case, they are to be interpreted with their natural
language meanings.<a href="#section-2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="basic-features-of-the-unified-property-extension">
<section id="section-3">
      <h2 id="name-basic-features-of-the-entit">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-basic-features-of-the-entit" class="section-name selfRef">Basic Features of the Entity Property Map Extension</a>
      </h2>
<p id="section-3-1">This section gives a high-level overview of the basic features involved in
ALTO Entity Property Maps. It assumes the reader is familiar with the ALTO
protocol <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>. The purpose of this extension is to allow conveying
properties on objects that extend ALTO Endpoints and are called ALTO
Entities, or entities for short.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">The features introduced in this section can be used as standalone. However,
in some cases, these features may depend on particular information resources
and need to be defined with respect to them. To this end,
<a href="#advanced-features-of-the-unified-property-extension" class="xref">Section 4</a> introduces
additional features that extend the ones presented in the present section.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">The Entity Property Maps extension described in this document introduces a
number of features that are summarized in
<a href="#features-introduced-with-epm-extension" class="xref">Appendix A</a>, where <a href="#TableUPFeatures" class="xref">Table 4</a> lists
the features and references the sections in this document that give a
high-level and normative description thereof.<a href="#section-3-3" class="pilcrow">¶</a></p>
<div id="con-entity">
<section id="section-3.1">
        <h3 id="name-entity">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-entity" class="section-name selfRef">Entity</a>
        </h3>
<p id="section-3.1-1">The concept of an ALTO Entity generalizes the concept of an ALTO Endpoint
defined in Section 2.1 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>. An entity is an object that can be an
endpoint that is defined by its network address, but can also be an object
that has a defined mapping to a set of one or more network addresses or an
object that is not even related to any network address. Thus, whereas all
endpoints are entities, not all entities are endpoints.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">Examples of entities are:<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.1-3.1">an ALTO endpoint, defined in <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>, that represents an application or
a host identified by a communication address (e.g., an IPv4 or IPv6
address) in a network,<a href="#section-3.1-3.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-3.2">a PID, defined in <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>, that has a provider defined human-readable
identifier specified by an ALTO network map, which maps a PID to a set of
IPv4 and IPv6 addresses,<a href="#section-3.1-3.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-3.3">an autonomous system (AS), that has an AS number (ASN) as its identifier
and maps to a set of IPv4 and IPv6 addresses,<a href="#section-3.1-3.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-3.4">a country with a code as specified in <span>[<a href="#ISO3166-1" class="xref">ISO3166-1</a>]</span>, to which applications
such as CDN providers associate properties and capabilities,<a href="#section-3.1-3.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-3.5">a TCP/IP network flow, that is identified by a TCP/IP 5-Tuple specifying
its source and destination addresses and port numbers and the utilized
protocol,<a href="#section-3.1-3.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-3.6">a routing element, that is specified in <span>[<a href="#RFC7921" class="xref">RFC7921</a>]</span> and is associated with
routing capabilities information,<a href="#section-3.1-3.6" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-3.7">an abstract network element, that represents an abstraction of a network
part such as a router, one or more links, a network domain or their
aggregation.<a href="#section-3.1-3.7" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="con-entity-domain">
<section id="section-3.2">
        <h3 id="name-entity-domain">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-entity-domain" class="section-name selfRef">Entity Domain</a>
        </h3>
<p id="section-3.2-1">An entity domain defines a set of entities of the same semantic type. An
entity domain is characterized by its type and identified by its name.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">In this document, an entity is owned by exactly one entity domain name.
An entity identifier points to exactly one entity. If two entities in two
different entity domains refer to the same physical or logical object, they
are treated as different entities. For example, if an end host has both an IPv4
and an IPv6 address, these two addresses will be treated as two entities,
defined respectively in the "ipv4" and "ipv6" entity domains.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
<div id="con-entity-domain-type">
<section id="section-3.2.1">
          <h4 id="name-entity-domain-type">
<a href="#section-3.2.1" class="section-number selfRef">3.2.1. </a><a href="#name-entity-domain-type" class="section-name selfRef">Entity Domain Type</a>
          </h4>
<p id="section-3.2.1-1">The type of an entity domain type defines the semantics of a type of entity.
Entity domain types can be defined in different documents. For example: the
present document defines entity domain types "ipv4", "ipv6" and "pid" in
sections <a href="#inet-addr-domain" class="xref">Section 6.1</a> and <a href="#pid-domain" class="xref">Section 6.2</a>. The entity domain type
"ane", that defines Abstract Network Elements (ANEs), is introduced in
<span>[<a href="#I-D.ietf-alto-path-vector" class="xref">I-D.ietf-alto-path-vector</a>]</span>. The entity domain type that defines country
codes is introduced in <span>[<a href="#I-D.ietf-alto-cdni-request-routing-alto" class="xref">I-D.ietf-alto-cdni-request-routing-alto</a>]</span>. An entity
domain type MUST be registered at the IANA, as specified in section
<a href="#dom-reg-process" class="xref">Section 12.2.2</a> and similarly to an ALTO address type.<a href="#section-3.2.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="con-entity-domain-name">
<section id="section-3.2.2">
          <h4 id="name-entity-domain-name">
<a href="#section-3.2.2" class="section-number selfRef">3.2.2. </a><a href="#name-entity-domain-name" class="section-name selfRef">Entity Domain Name</a>
          </h4>
<p id="section-3.2.2-1">The name of an entity domain is defined in the scope of an ALTO server. An
entity domain name can sometimes be identical to the name of its relevant
entity domain type. This is the case when the entities of a domain have an
identifier that points to the same object throughout all the information
resources of the Server that provide entity properties for this domain. For
example, a domain of type "ipv4" containing entities identified by a public
IPv4 address can be named "ipv4" because its entities are uniquely identified
by all the Server resources.<a href="#section-3.2.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2.2-2">In some cases, an entity domain name is different from its entity domain
type. Indeed, for some domain types, entities are defined relative to a given
information resource. This is the case for entities of domain type "pid". A
PID is defined relative to a network map. For example: an entity "mypid10" of
domain type "pid" may be defined in a given network map and be undefined in
other network maps. Or "mypid10" may even be defined in two different network
maps and map, in each of these network maps, to a different set of endpoint
addresses. In this case, naming an entity domain only by its type "pid" does
not guarantee that its set of entities is owned by exactly one entity domain.<a href="#section-3.2.2-2" class="pilcrow">¶</a></p>
<p id="section-3.2.2-3"><a href="#rsed-name" class="xref">Section 4.2</a> and <a href="#domain-names" class="xref">Section 5.1.2</a> of this
document describe how a domain is uniquely identified, across the ALTO
Server, by a name that associates the domain type and the related information
resource.<a href="#section-3.2.2-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="con-property">
<section id="section-3.3">
        <h3 id="name-entity-property-type">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-entity-property-type" class="section-name selfRef">Entity Property Type</a>
        </h3>
<p id="section-3.3-1">An entity property defines a property of an entity. This is similar to the
endpoint property defined in Section 7.1 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>. An entity property
can convey either network-aware or network-agnostic information. Similarly to
an entity domain, an entity property is characterized by its type and
identified by its name. An entity property type MUST be registered at the
IANA, as specified in section <a href="#IANAEntityProp" class="xref">Section 12.3</a>.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<p id="section-3.3-2">Below are some examples with real and fictitious entity domain and property
names:<a href="#section-3.3-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.3-3.1">an entity in the "ipv4" domain type may have a property whose value is an
Autonomous System (AS) number indicating the AS that owns this IPv4 address
and another property named "countrycode" indicating a country code mapping
to this address,<a href="#section-3.3-3.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.3-3.2">an entity identified by its country code in the entity domain type
"countrycode", defined in <span>[<a href="#I-D.ietf-alto-cdni-request-routing-alto" class="xref">I-D.ietf-alto-cdni-request-routing-alto</a>]</span> may
have a property indicating what delivery protocol is used by a CDN,<a href="#section-3.3-3.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.3-3.3">an entity in the "netmap1.pid" domain may have a property that indicates
the central geographical location of the endpoints it includes.<a href="#section-3.3-3.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.3-4">It should be noted that some identifiers may be used for both an entity
domain type and a property type. For example:<a href="#section-3.3-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.3-5.1">the identifier "countrycode" may point to both the entity domain type
"countrycode" and the fictitious property type "countrycode".<a href="#section-3.3-5.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.3-5.2">the identifier "pid" may point to both the entity domain type "pid" and the
property type "pid".<a href="#section-3.3-5.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.3-6">Likewise, a same identifier may point to both a domain name and a property
name. For example: the identifier "netmap10.pid" may point to either the
domain defined by the PIDs of network map "netmap10" or to a property that
returns, for an entity defined by its IPv4 address, the PID of netmap10 that
contains this entity. Such cases will be further explained in
<a href="#advanced-features-of-the-unified-property-extension" class="xref">Section 4</a>.<a href="#section-3.3-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="con-propmap">
<section id="section-3.4">
        <h3 id="name-new-information-resource-an">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-new-information-resource-an" class="section-name selfRef">New information resource and media type: ALTO Property Map</a>
        </h3>
<p id="section-3.4-1">This document introduces a new ALTO information resource named Property Map.
An ALTO property map provides a set of properties on one or more sets of
entities. A property may apply to different entity domain types and names.
For example, an ALTO property map may define the "ASN" property for both
"ipv4" and "ipv6" entity domains.<a href="#section-3.4-1" class="pilcrow">¶</a></p>
<p id="section-3.4-2">The present extension also introduces a new media type.<a href="#section-3.4-2" class="pilcrow">¶</a></p>
<p id="section-3.4-3">This document uses the same definition of an information resource as Section
9.1 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>. ALTO uses media types to uniquely indicate the data
format used to encode the content to be transmitted between an ALTO server
and an ALTO client in the HTTP entity body. In the present case, an ALTO
property map resource is

defined by the media type "application/alto-propmap+json".<a href="#section-3.4-3" class="pilcrow">¶</a></p>
<p id="section-3.4-4">A Property Map can be queried as a GET-mode resource, thus conveying all
properties on all entities indicated in its capabilities. It can also be
queried as a POST-mode resource, thus conveying a selection of properties on
a selection of entities.<a href="#section-3.4-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="advanced-features-of-the-unified-property-extension">
<section id="section-4">
      <h2 id="name-advanced-features-of-the-en">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-advanced-features-of-the-en" class="section-name selfRef">Advanced Features of the Entity Property Map Extension</a>
      </h2>
<div id="entity-identifier-and-entity-domain">
<section id="section-4.1">
        <h3 id="name-entity-identifier-and-entit">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-entity-identifier-and-entit" class="section-name selfRef">Entity Identifier and Entity Domain Name</a>
        </h3>
<p id="section-4.1-1">In <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>, an endpoint has an identifier that is explicitly associated
with the "ipv4" or "ipv6" address domain. Examples are "ipv4:192.0.2.14" and
"ipv6:2001:db8::12".<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">In this document, to ensure that an entity is owned by exactly one entity
domain name and an entity identifier points to exactly one entity, an entity
identifier is explicitly attached to the name of its entity domain and an
entity domain type characterizes the semantics and identifier format of its
entities.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">The encoding format of an entity identifier is further specified in
<a href="#entity-addrs" class="xref">Section 5.1.3</a> of this document.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1-4">For instance:<a href="#section-4.1-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-5.1">if an entity is an endpoint with example routable IPv4 address
"192.0.2.14", its identifier is associated with domain name "ipv4" and is
"ipv4:192.0.2.14",<a href="#section-4.1-5.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.1-5.2">if an entity is a PID named "mypid10" in network map resource "netmap2",
its identifier is associated with domain name "netmap2.pid" and is
"netmap2.pid:mypid10".<a href="#section-4.1-5.2" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="rsed-name">
<section id="section-4.2">
        <h3 id="name-resource-specific-entity-do">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-resource-specific-entity-do" class="section-name selfRef">Resource-Specific Entity Domain Name</a>
        </h3>
<p id="section-4.2-1">Some entities are defined and identified uniquely and globally. This is the
case for instance when entities are endpoints that are identified by a
routable IPv4 or IPv6 address. The entity domain for such entities can be
globally defined and named "ipv4" or "ipv6". Those entity domains are called
resource-agnostic entity domains in this document, as they are not associated
with any specific ALTO information resources.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">Some other entities and entity types are only defined relatively to a given
information resource. This is the case for entities of domain type "pid",
that can only be understood with respect to the network map where they are
defined. For example, a PID named "mypid10" may be defined to represent a set
S1 of IP addresses in a network map resource named "netmap1". Another network
map "netmap2" may use the same name "mypid10" and define it to represent
another set S2 of IP addresses. The identifier "pid:mypid10" may thus point
to different objects because the information on the originating information
resource is lost.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3">To solve this ambiguity, the present extension introduces the concept of
resources-specific entity domain. This concept applies to domain types where
entities are defined relatively to a given information resource. It can also
apply to entity domains that are defined locally, such as local networks of
objects identified with a local IPv4 address.<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<p id="section-4.2-4">In such cases, an entity domain type is explicitly associated with an
identifier of the information resource where these entities are defined. Such
an information resource is referred to as the "specific information
resource". Using a resource-aware entity domain name, an ALTO property map
can unambiguously identify distinct entity domains of the same type, on which
entity properties may be queried. Examples of resource-specific entity domain
names may look like: "netmap1.pid" or "netmap2.pid". Thus, a name association
such as "netmap1.pid:mypid10" and "netmap2.pid:mypid10" allows to distinguish
the two abovementioned PIDs that are both named "mypid10" but in two
different resources, "netmap1" and "netmap2".<a href="#section-4.2-4" class="pilcrow">¶</a></p>
<p id="section-4.2-5">An information resource is defined in the scope of an ALTO Server and so is
an entity domain name. The format of a resource-specific entity domain name
is further specified in <a href="#domain-names" class="xref">Section 5.1.2</a>.<a href="#section-4.2-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="rsep">
<section id="section-4.3">
        <h3 id="name-resource-specific-entity-pr">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-resource-specific-entity-pr" class="section-name selfRef">Resource-Specific Entity Property Value</a>
        </h3>
<p id="section-4.3-1">Like entity domains, some types of properties are defined relatively to an
information resource. That is, an entity may have a property of a given type,
whose values are associated to different information resources.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">For example, suppose entity "192.0.2.34" defined in the "ipv4" domain has a
property of type "pid", whose value is the PID to which address "192.0.2.34"
is attached in a network map. The mapping of network addresses to PIDs is
specific to a network map and probably different from one network map
resource to another one. Thus, if a property "pid" is defined for entity
"192.0.2.34" in two different network maps "netmap1" and "netmap2", the value
for this property will likely be a different value in "netmap1" and
"netmap2".<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<p id="section-4.3-3">To support information resource dependent property values, this document uses
the same approach as in Section 10.8.1 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span> entitled
"Resource-Specific Endpoint Properties". When a property value depends on a
given information resource, the name of this property MUST be explicitly
associated with the information resource that defines it.<a href="#section-4.3-3" class="pilcrow">¶</a></p>
<p id="section-4.3-4">For example, the property "pid" queried on entity "ipv4:192.0.2.34" and
defined in both "netmap1" and "netmap2", can be named "netmap1.pid" and
"netmap2.pid". This allows a Client to get a property of the same type but
defined in different information resources with a single query.
Specifications on the property name format are provided in <a href="#def-property" class="xref">Section 5.2</a>.<a href="#section-4.3-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="con-hni">
<section id="section-4.4">
        <h3 id="name-entity-hierarchy-and-proper">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-entity-hierarchy-and-proper" class="section-name selfRef">Entity Hierarchy and Property Inheritance</a>
        </h3>
<p id="section-4.4-1">For some domain types, entities can be grouped in a set and be defined by the
identifier of this set. This is the case for domain types "ipv4" and "ipv6",
where individual Internet addresses can be grouped in blocks. When a same
property value applies to a whole set, a Server can define a property for the
identifier of this set instead of enumerating all the entities and their
properties. This allows a substantial reduction of transmission payload both
for the Server and the Client. For example, all the entities included in the
set defined by the address block "ipv6:2001:db8::1/64" share the same
properties and values defined for this block.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
<p id="section-4.4-2">Additionally, entity sets sometimes are related by inclusion, hierarchy or
other relations. This allows defining inheritance rules for entity properties
that propagate properties among related entity sets. The Server and the
Client can use these inheritance rules for further payload savings. Entity
hierarchy and property inheritance rules are specified in the documents that
define the applicable domain types. The present document defines these rules
for the "ipv4" and "ipv6" domain types.<a href="#section-4.4-2" class="pilcrow">¶</a></p>
<p id="section-4.4-3">This document introduces, for applicable domain types, "Entity Property
Inheritance rules", with the following concepts: Entity Hierarchy, Property
Inheritance and Property Value Unicity. A detailed specification of entity
hierarchy and property inheritance rules is provided in
<a href="#def-hierarchy-and-inheritance" class="xref">Section 5.1.4</a>.<a href="#section-4.4-3" class="pilcrow">¶</a></p>
<div id="entity-hierarchy">
<section id="section-4.4.1">
          <h4 id="name-entity-hierarchy">
<a href="#section-4.4.1" class="section-number selfRef">4.4.1. </a><a href="#name-entity-hierarchy" class="section-name selfRef">Entity Hierarchy</a>
          </h4>
<p id="section-4.4.1-1">An entity domain may allow using a single identifier to identify a set of
individual entities. For example, a CIDR block can be used to identify a set
of IPv4 or IPv6 entities. A CIDR block is called a hierarchical entity
identifier, as it can reflect inclusion relations among entity sets. For
example, the CIDR "ipv4:192.0.1.0/24" includes all the individual IPv4
entities identified by the CIDR "ipv4:192.0.1.0/26".<a href="#section-4.4.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="property-inheritance">
<section id="section-4.4.2">
          <h4 id="name-property-inheritance">
<a href="#section-4.4.2" class="section-number selfRef">4.4.2. </a><a href="#name-property-inheritance" class="section-name selfRef">Property Inheritance</a>
          </h4>
<p id="section-4.4.2-1">A property may be defined for a hierarchical entity identifier, while it may
be undefined for individual entities covered by this identifier. In this
case, these individual entities inherit the property value defined for the
identifier that covers them. For example, suppose a property map defines a
property P for which it assigns value V1 only for the hierarchical entity
identifier "ipv4:192.0.1.0/24" but not for individual entities in this block.
Suppose also that inheritance rules are specified for CIDR blocks in the
"ipv4" domain type. When receiving this property map, a Client can infer that
entity "ipv4:192.0.1.1" inherits the property value V1 of block
"ipv4:192.0.1.0/24" because the address "ipv4:192.0.1.1" is included by the
CIDR block "ipv4:192.0.1.0/24".<a href="#section-4.4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.4.2-2">Property value inheritance rules also apply among entity sets. A property map
may define values for an entity set belonging to a hierarchy but not for
"sub" sets that are covered by this set identifier. In this case, inheritance
rules must specify how entities in "sub" sets inherit property values from
their "super" set. For instance, if a property P is defined only for the
entity set identified by address block "ipv4:192.0.1.0/24", the entity set
identified by "ipv4:192.0.1.0/30" and thus included in the former set, may
inherit the property P value from set "ipv4:192.0.1.0/24".<a href="#section-4.4.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="property-value-unicity">
<section id="section-4.4.3">
          <h4 id="name-property-value-unicity">
<a href="#section-4.4.3" class="section-number selfRef">4.4.3. </a><a href="#name-property-value-unicity" class="section-name selfRef">Property Value Unicity</a>
          </h4>
<p id="section-4.4.3-1">The inheritance rules must ensure that an entity belonging to a hierarchical
set of entities inherits no more than one property value, for the sake of
consistency. Indeed, a property map may define a property on a hierarchy of
entity sets that inherit property values from one or more subsets (upper
levels). On the other hand, a property value, defined on a superset (lower
level) may be different from the value defined in a subset. In such a case,
supersets may potentially end up with different property values. This may be
the case for address blocs with increasing prefix length, on which a property
value gets increasingly accurate and thus may differ. For example, a
fictitious property such as "geo-location" or "average transfer volume" may
be defined at a progressively finer grain for entity sets defined with
progressively longer CIDR prefixes. It seems more interesting to have
property values of progressively higher accuracy. A unicity rule, applied to
the entity domain type must specify an arbitration rule among the different
property values for an entity. An example illustrating the need for such
rules is provided in <a href="#inet-inheritance" class="xref">Section 6.1.3</a>.<a href="#section-4.4.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="applicable-entity-domains-and-properties-in-the-property-map-capabilities">
<section id="section-4.5">
        <h3 id="name-supported-properties-on-ent">
<a href="#section-4.5" class="section-number selfRef">4.5. </a><a href="#name-supported-properties-on-ent" class="section-name selfRef">Supported Properties on Entity Domains in Property Map Capabilities</a>
        </h3>
<p id="section-4.5-1">A property type is not necessarily applicable to any domain type, or an ALTO
Server may choose not to provide a property on all applicable domains. For
instance, a property type reflecting link bandwidth is likely not defined on
entities of a domain of type "country-code". Therefore an ALTO server
providing Property Maps needs to specify the properties that can be queried
on the different entity domains it supports.<a href="#section-4.5-1" class="pilcrow">¶</a></p>
<p id="section-4.5-2">This document explains how the Information Resources Directory (IRD)
capabilities of a Property Map resource unambiguously expose what properties
a Client can query on a given entity domain.<a href="#section-4.5-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.5-3.1">a field named "mappings" lists the names of the entity domains supported by
the Property Map,<a href="#section-4.5-3.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.5-3.2">for each listed entity domain, a list of the names of the applicable
properties is provided.<a href="#section-4.5-3.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-4.5-4">An example is provided in <a href="#ird-example" class="xref">Section 10.3</a>. The "mappings" field associates
entity domains and properties that can be resource-agnostic or
resource-specific. This allows a Client to formulate compact and unambiguous
entity property queries, possibly relating to one or more information
resources. In particular:<a href="#section-4.5-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.5-5.1">it avoids a Client to query a property on entity domains on which it is not
defined,<a href="#section-4.5-5.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.5-5.2">it allows a Client to query, for an entity E, values for a property P that
are defined in several information resources,<a href="#section-4.5-5.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.5-5.3">it allows a Client to query a property P on entities that are defined in
several information resources.<a href="#section-4.5-5.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-4.5-6">Further specifications are provided in <a href="#FullPropMapCapabilities" class="xref">Section 7.4</a>.<a href="#section-4.5-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="def-ir">
<section id="section-4.6">
        <h3 id="name-defining-information-resour">
<a href="#section-4.6" class="section-number selfRef">4.6. </a><a href="#name-defining-information-resour" class="section-name selfRef">Defining Information Resource for Resource-Specific Entity Domains</a>
        </h3>
<p id="section-4.6-1">A Client willing to query properties on entities belonging to a domain needs
to know how to retrieve these entities. To this end, the Client can look up
the "mappings" field exposed in IRD capabilities of a property map, see
<a href="#applicable-entity-domains-and-properties-in-the-property-map-capabilities" class="xref">Section 4.5</a>.
This field, in its keys, exposes all the entity domains supported by the
property map. The syntax of the entity domain identifier specified in
<a href="#domain-names" class="xref">Section 5.1.2</a> allows the client to infer whether the entity domain is
resource-specific or not. The Client can extract, if applicable, the
identifier of the specific resource, query the resource and retrieve the
entities. For example:<a href="#section-4.6-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.6-2.1">an entity domain named "netmap1.ipv4" includes the IPv4 addresses that
appear in the "ipv4" field of the endpoint address group of each PID in the
network map "netmap1", and that cannot be recognized outside "netmap1"
because, for instance, these are local non-routable addresses,<a href="#section-4.6-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.6-2.2">an entity domain named "netmap1.pid" includes the PIDs listed in network
map "netmap1".<a href="#section-4.6-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.6-2.3">an entity domain named "ipv4" is resource-agnostic and covers all the
routable IPv4 addresses.<a href="#section-4.6-2.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-4.6-3">Besides, it is also necessary to inform a Client about which associations of
specific resources and entity domain types are allowed, because it is not
possible to prevent a Server from exposing inappropriate associations. An
informed Client will just ignore inappropriate associations exposed by a
Server and avoid error-prone transactions with the Server.<a href="#section-4.6-3" class="pilcrow">¶</a></p>
<p id="section-4.6-4">For example, the association "costmap3.pid" is not allowed for the following
reason: although a cost map exposes PID identifiers, it does not define the
set of addresses included in this PID. Neither does a cost map list all the
PIDs on which properties can be queried, because a cost map only exposes PID
pairs on which a queried cost type is defined. Therefore, the resource
"costmap3" does not enable a Client to extract information on the existing
PID entities or on the addresses they contain.<a href="#section-4.6-4" class="pilcrow">¶</a></p>
<p id="section-4.6-5">Instead, the cost map uses a network map, where all the PIDs used in a cost
map are defined together with the addresses contained by the PIDs. This
network map is qualified in this document as the Defining Information
Resource for the entity domain of type "pid" and this concept is explained in
<a href="#defining-information-resource-and-media-type" class="xref">Section 4.6.1</a>.<a href="#section-4.6-5" class="pilcrow">¶</a></p>
<div id="defining-information-resource-and-media-type">
<section id="section-4.6.1">
          <h4 id="name-defining-information-resourc">
<a href="#section-4.6.1" class="section-number selfRef">4.6.1. </a><a href="#name-defining-information-resourc" class="section-name selfRef">Defining Information Resource and its Media Type</a>
          </h4>
<p id="section-4.6.1-1">For the reasons explained in the previous section, this document introduces
the concept of "Defining Information Resource and its Media Type".<a href="#section-4.6.1-1" class="pilcrow">¶</a></p>
<p id="section-4.6.1-2">A defining information resource for an entity domain D is the information
resource where entities of D are defined. That is, all the information on the
entities of D can be retrieved in this resource. This concept applies to
resource-specific entity domains. This is useful for entity domain types that are by
essence domain-specific, such as "pid" and "ane" domain types. It is also
useful for resource-specific entity domains constructed from
resource-agnostic domain types, such as network map specific domains of local
IPv4 addresses.<a href="#section-4.6.1-2" class="pilcrow">¶</a></p>
<p id="section-4.6.1-3">The defining information resource of an entity domain D is unique and has the
following specificities:<a href="#section-4.6.1-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.6.1-4.1">it has an entry in the IRD,<a href="#section-4.6.1-4.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.6.1-4.2">it defines the entities of D,<a href="#section-4.6.1-4.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.6.1-4.3">it does not use another information resource that defines these entities,<a href="#section-4.6.1-4.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.6.1-4.4">it defines and exposes entity identifiers that are all persistent.<a href="#section-4.6.1-4.4" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.6.1-4.5">its media type is unique and equal to the one that is specified for the
defining information resource of an entity domain type.<a href="#section-4.6.1-4.5" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-4.6.1-5">A fundamental attribute of a defining information resource is its media type.
There is a unique association between an entity domain type and the media
type of its defining information resource. If an entity domain type can be
resource-specific, the document that defines this entity domain type must
specify the association between the entity domain type and the media type of
the potential defining information resource in the "ALTO Entity Domain Type
Registry" <a href="#IANADomain" class="xref">Section 12.2</a> and request the addition to the IANA.<a href="#section-4.6.1-5" class="pilcrow">¶</a></p>
<p id="section-4.6.1-6">When the Client wants to use a resource-specific entity domain, it needs to
be cognizant of the media-type of its defining information resource. If the
Server exposes resources a resource-specific entity domain with a
non-compliant media type for the domain type, the Client can ignore the
entities from that entity domain to avoid errors.<a href="#section-4.6.1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="example-specific-ir-mediatype">
<section id="section-4.6.2">
          <h4 id="name-examples-of-defining-inform">
<a href="#section-4.6.2" class="section-number selfRef">4.6.2. </a><a href="#name-examples-of-defining-inform" class="section-name selfRef">Examples of Defining Information Resources and Their Media Types</a>
          </h4>
<p id="section-4.6.2-1">Here are examples of defining information resource types and their media
types associated to different entity domain types.<a href="#section-4.6.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.6.2-2.1">For entity domain type "pid": the media type of the specific resource is
"application/alto-networkmap+json", because PIDs are defined in network map
resources.<a href="#section-4.6.2-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.6.2-2.2">For entity domain types "ipv4" and "ipv6": the media type of the specific
resource is "application/alto-networkmap+json", because IPv4 and IPv6
addresses covered by the Server are defined in network map resources.<a href="#section-4.6.2-2.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.6.2-2.3">For entities of domain type "ane": <span>[<a href="#I-D.ietf-alto-path-vector" class="xref">I-D.ietf-alto-path-vector</a>]</span> defines
entities named "ANE", where ANE stands for Abstracted Network Element, and
the entity domain type "ane". An ANE may have a persistent identifier, say,
"entity-4", that is provided by the Server as a value of the
"persistent-entity-id" property of this ANE. Further properties may then be
queried on an ANE by using its persistent entity ID. These properties are
available from a persistent property map, that defines properties on a
specific "ane" domain. Together with the persistent identifier, the Server
also provides the property map resource identifier where the "ane" domain
containing "entity-4" is defined. The definition of the "ane" entity domain
containing "entity-4" is thus specific to the property map. Therefore, for
entities of domain type "ane" that have a persitent identifier, the media
type of the specific information resource is
"application/alto-propmap+json".<a href="#section-4.6.2-2.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.6.2-2.4">Last, the entity domain types "asn" and "countrycode" defined in
<span>[<a href="#I-D.ietf-alto-cdni-request-routing-alto" class="xref">I-D.ietf-alto-cdni-request-routing-alto</a>]</span> do not have a defining
information resource. Indeed, the entity identifiers in these two entity
domain types are already standardized in documents that the Client can use.<a href="#section-4.6.2-2.4" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</div>
</section>
</div>
<div id="def-ir-for-irsp">
<section id="section-4.7">
        <h3 id="name-defining-information-resource">
<a href="#section-4.7" class="section-number selfRef">4.7. </a><a href="#name-defining-information-resource" class="section-name selfRef">Defining Information Resource for Resource-Specific Property Values</a>
        </h3>
<p id="section-4.7-1">As explained in <a href="#rsep" class="xref">Section 4.3</a>, a property type may
take values that are resource-specific. This is the case for property type
"pid", whose values are by essence defined relatively to a specific network
map. That is, the PID value returned for an IPv4 address is specific to the network
map defining this PID and may differ from one network map to another one.<a href="#section-4.7-1" class="pilcrow">¶</a></p>
<p id="section-4.7-2">Another example is provided in <span>[<a href="#I-D.ietf-alto-cdni-request-routing-alto" class="xref">I-D.ietf-alto-cdni-request-routing-alto</a>]</span>
that defines property type "cdni-capabilities". The value of this property is
specific to a CDNI Advertisement resource, that provides a list of CDNI
capabilities. The property is provided for entity domain types "ipv4",
"ipv6", "asn" and "countrycode". A CDNI Advertisement resource does however
not define PID values for IPv4 addresses while a network map does not define
CDNI capabilities for IPv4 addresses.<a href="#section-4.7-2" class="pilcrow">¶</a></p>
<p id="section-4.7-3">Similarly to resource-specific entity domains, the Client needs to be
cognizant of appropriate associations of information resource and property
types. Therefore, when specifying and registering a property type whose
values are resource-specific, the media type of its defining information
resource needs to be specified. For example:<a href="#section-4.7-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.7-4.1">The media type of the defining information resource for property type "pid"
is "application/alto-networkmap+json".<a href="#section-4.7-4.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.7-4.2">The media type of the defining information resource for property type
"cdni-capabilities" defined in <span>[<a href="#I-D.ietf-alto-cdni-request-routing-alto" class="xref">I-D.ietf-alto-cdni-request-routing-alto</a>]</span>
is "application/alto-cdni+json".<a href="#section-4.7-4.2" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="protocol-specification-basic-data-types">
<section id="section-5">
      <h2 id="name-protocol-specification-basi">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-protocol-specification-basi" class="section-name selfRef">Protocol Specification: Basic Data Types</a>
      </h2>
<div id="def-domain">
<section id="section-5.1">
        <h3 id="name-entity-domain-2">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-entity-domain-2" class="section-name selfRef">Entity Domain</a>
        </h3>
<div id="domain-types">
<section id="section-5.1.1">
          <h4 id="name-entity-domain-type-2">
<a href="#section-5.1.1" class="section-number selfRef">5.1.1. </a><a href="#name-entity-domain-type-2" class="section-name selfRef">Entity Domain Type</a>
          </h4>
<p id="section-5.1.1-1">An entity domain has a type, which is uniquely identified by a string that
MUST be no more than 64 characters, and MUST NOT contain characters other
than US-ASCII alphanumeric characters (U+0030-U+0039, U+0041-U+005A, and
U+0061-U+007A), the hyphen ('-', U+002D), or the low line ('_', U+005F).<a href="#section-5.1.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1.1-2">For example, the strings "ipv4", "ipv6", and "pid" are valid entity domain
types. "ipv4.anycast" and "pid.local" are invalid.<a href="#section-5.1.1-2" class="pilcrow">¶</a></p>
<p id="section-5.1.1-3">The type EntityDomainType is used in this document to denote a JSON string
meeting the preceding requirements.<a href="#section-5.1.1-3" class="pilcrow">¶</a></p>
<p id="section-5.1.1-4">An entity domain type defines the semantics of a type of entity,
independently of any specifying resource. Each entity domain type MUST be
registered with the IANA. The format of the entity identifiers (see
<a href="#entity-addrs" class="xref">Section 5.1.3</a>) in that type of entity domain, as well as any hierarchical
or inheritance rules (see <a href="#def-hierarchy-and-inheritance" class="xref">Section 5.1.4</a>) for those
entities, MUST be specified at the same time.<a href="#section-5.1.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="domain-names">
<section id="section-5.1.2">
          <h4 id="name-entity-domain-name-2">
<a href="#section-5.1.2" class="section-number selfRef">5.1.2. </a><a href="#name-entity-domain-name-2" class="section-name selfRef">Entity Domain Name</a>
          </h4>
<p id="section-5.1.2-1">As said in <a href="#con-entity-domain" class="xref">Section 3.2</a> when introducing entity domains, an entity
domain is characterized by its type and identified by its name.<a href="#section-5.1.2-1" class="pilcrow">¶</a></p>
<p id="section-5.1.2-2">This document distinguishes three categories of entity domains:
resource-specific entity domains, resource-agnostic entity domains and
self-defined entity domains. Their entity domain names are constructed as
specified in the following sub-sections.<a href="#section-5.1.2-2" class="pilcrow">¶</a></p>
<p id="section-5.1.2-3">Each entity domain is identified by a unique entity domain name which is a
string of the following format:<a href="#section-5.1.2-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.1.2-4">
<pre>
    EntityDomainName ::= [ [ ResourceID ] '.' ] EntityDomainType
</pre><a href="#section-5.1.2-4" class="pilcrow">¶</a>
</div>
<p id="section-5.1.2-5">Where the presence and construction of component:<a href="#section-5.1.2-5" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.1.2-6">
<pre>
    "[ [ ResourceID ] '.' ]"
</pre><a href="#section-5.1.2-6" class="pilcrow">¶</a>
</div>
<p id="section-5.1.2-7">depends on the category of entity domain.<a href="#section-5.1.2-7" class="pilcrow">¶</a></p>
<p id="section-5.1.2-8">Note that the '.' separator is not allowed in EntityDomainType and hence
there is no ambiguity on whether an entity domain name refers to a
resource-agnostic entity domain or a resource-specific entity domain.<a href="#section-5.1.2-8" class="pilcrow">¶</a></p>
<p id="section-5.1.2-9">Note also that Section 10.1 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span> specifies the format of the PID
Name which is the format of the resource ID including the following
specification: "the '.' separator is reserved for future use and MUST NOT be
used unless specifically indicated in this document, or an extension
document". The present extension keeps the format specification of
<span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>, hence the '.' separator MUST NOT be used in an information
resource ID.<a href="#section-5.1.2-9" class="pilcrow">¶</a></p>
<div id="resource-specific-ED">
<section id="section-5.1.2.1">
            <h5 id="name-resource-specific-entity-dom">
<a href="#section-5.1.2.1" class="section-number selfRef">5.1.2.1. </a><a href="#name-resource-specific-entity-dom" class="section-name selfRef">Resource-specific Entity Domain</a>
            </h5>
<p id="section-5.1.2.1-1">A resource-specific entity domain is identified by an entity domain name
constructed as follows. It MUST start with a resource ID using the ResourceID
type defined in Section 10.2 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>, followed by the '.' separator
(U+002E), followed by a string of the type EntityDomainType specified in
<a href="#domain-types" class="xref">Section 5.1.1</a>.<a href="#section-5.1.2.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1.2.1-2">For example, if an ALTO server provides two network maps "netmap-1" and
"netmap-2", these network maps can define two resource-specific domains of
type "pid", respectively identified by "netmap-1.pid" and "netmap-2.pid".<a href="#section-5.1.2.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="resource-agnostic-ED">
<section id="section-5.1.2.2">
            <h5 id="name-resource-agnostic-entity-do">
<a href="#section-5.1.2.2" class="section-number selfRef">5.1.2.2. </a><a href="#name-resource-agnostic-entity-do" class="section-name selfRef">Resource-agnostic Entity Domain</a>
            </h5>
<p id="section-5.1.2.2-1">A resource-agnostic entity domain contains entities that are identified
independently of any information resource. Hence, the identifier of a
resource-agnostic entity domain is simply the identifier of its entity domain
type. For example, "ipv4" and "ipv6" identify the two resource-agnostic
Internet address entity domains defined in <a href="#inet-addr-domain" class="xref">Section 6.1</a>.<a href="#section-5.1.2.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="self-defined-ED">
<section id="section-5.1.2.3">
            <h5 id="name-self-defined-entity-domain">
<a href="#section-5.1.2.3" class="section-number selfRef">5.1.2.3. </a><a href="#name-self-defined-entity-domain" class="section-name selfRef">Self-defined Entity Domain</a>
            </h5>
<p id="section-5.1.2.3-1">A property map can define properties on entities that are specific to a
unique information resource, which is the property map itself. This may be
the case when an ALTO Server provides properties on a set of entities that
are defined only in this property map, are not relevant to another one and do
not depend on another specific resource.<a href="#section-5.1.2.3-1" class="pilcrow">¶</a></p>
<p id="section-5.1.2.3-2">For example: a specialised property map may define a domain of type "ane",
defined in <span>[<a href="#I-D.ietf-alto-path-vector" class="xref">I-D.ietf-alto-path-vector</a>]</span>, that contains a set of ANEs
representing data centers, that each have a persistent identifier and are
relevant only to this property map.<a href="#section-5.1.2.3-2" class="pilcrow">¶</a></p>
<p id="section-5.1.2.3-3">In this case, the entity domain is qualified as "self-defined". The
identifier of a self-defined entity domain can be of the format:<a href="#section-5.1.2.3-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.1.2.3-4">
<pre>
    EntityDomainName ::= '.' EntityDomainType
</pre><a href="#section-5.1.2.3-4" class="pilcrow">¶</a>
</div>
<p id="section-5.1.2.3-5">where '.' indicates that the entity domain only exists within the property
map resource using it.<a href="#section-5.1.2.3-5" class="pilcrow">¶</a></p>
<p id="section-5.1.2.3-6">A self-defined entity domain can be viewed as a particular case of
resource-specific entity domain, where the specific resource is the current
resource that uses this entity domain. In that case, for the sake of
simplification, the component "ResourceID" SHOULD be omitted in its entity
domain name.<a href="#section-5.1.2.3-6" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="entity-addrs">
<section id="section-5.1.3">
          <h4 id="name-entity-identifier">
<a href="#section-5.1.3" class="section-number selfRef">5.1.3. </a><a href="#name-entity-identifier" class="section-name selfRef">Entity Identifier</a>
          </h4>
<p id="section-5.1.3-1">Entities in an entity domain are identified by entity identifiers (EntityID) of
the following format:<a href="#section-5.1.3-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.1.3-2">
<pre>
EntityID ::= EntityDomainName ':' DomainTypeSpecificEntityID
</pre><a href="#section-5.1.3-2" class="pilcrow">¶</a>
</div>
<p id="section-5.1.3-3">Examples from the Internet address entity domains include individual IP
addresses such as <code>net1.ipv4:192.0.2.14</code> and <code>net1.ipv6:2001:db8::12</code>, as well
as address blocks such as <code>net1.ipv4:192.0.2.0/26</code> and
<code>net1.ipv6:2001:db8::1/48</code>.<a href="#section-5.1.3-3" class="pilcrow">¶</a></p>
<p id="section-5.1.3-4">The format of the second part of an entity identifier depends on the entity
domain type, and MUST be specified when defining a new entity domain type and
registering it with the IANA. Identifiers MAY be hierarchical, and properties
MAY be inherited based on that hierarchy. The rules defining any hierarchy or
inheritance MUST be defined when the entity domain type is registered.<a href="#section-5.1.3-4" class="pilcrow">¶</a></p>
<p id="section-5.1.3-5">The type EntityID is used in this document to denote a JSON string
representing an entity identifier in this format.<a href="#section-5.1.3-5" class="pilcrow">¶</a></p>
<p id="section-5.1.3-6">Note that two entity identifiers with different valid textual representations
may refer to the same entity, for a given entity domain. For example, the
strings "net1.ipv6:2001:db8::1" and "net1.ipv6:2001:db8:0:0:0:0:0:1" refer to
the same entity in the "ipv6" entity domain. Such equivalences should be
established by the object represented by DomainTypeSpecificEntityID, for
example, <span>[<a href="#RFC5952" class="xref">RFC5952</a>]</span> establishes equivalence for IPv6 addresses, while
<span>[<a href="#RFC4632" class="xref">RFC4632</a>]</span> does so for IPv4 addresses.<a href="#section-5.1.3-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="def-hierarchy-and-inheritance">
<section id="section-5.1.4">
          <h4 id="name-hierarchy-and-inheritance">
<a href="#section-5.1.4" class="section-number selfRef">5.1.4. </a><a href="#name-hierarchy-and-inheritance" class="section-name selfRef">Hierarchy and Inheritance</a>
          </h4>
<p id="section-5.1.4-1">To simplify the representation, some types of entity domains allow the ALTO
Client and Server to use a hierarchical entity identifier format to represent
a block of individual entities. For instance, in an IPv4 domain "net1.ipv4",
a CIDR "net1.ipv4:192.0.2.0/26" covers 64 individual IPv4 entities. In this
case, the corresponding property inheritance rule MUST be defined for the
entity domain type. The hierarchy and inheritance rule MUST have no
ambiguity.<a href="#section-5.1.4-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="def-property">
<section id="section-5.2">
        <h3 id="name-entity-property">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-entity-property" class="section-name selfRef">Entity Property</a>
        </h3>
<p id="section-5.2-1">Each entity property has a type to indicate the encoding and the semantics of
the value of this entity property, and has a name to identify it.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<div id="def-property-type">
<section id="section-5.2.1">
          <h4 id="name-entity-property-type-2">
<a href="#section-5.2.1" class="section-number selfRef">5.2.1. </a><a href="#name-entity-property-type-2" class="section-name selfRef">Entity Property Type</a>
          </h4>
<p id="section-5.2.1-1">The type EntityPropertyType is used in this document to indicate a string
denoting an entity property type. The string MUST be no more than 32
characters, and it MUST NOT contain characters other than US-ASCII
alphanumeric characters (U+0030-U+0039, U+0041-U+005A, and U+0061-U+007A),
the hyphen ('-', U+002D), the colon (':', U+003A), or the low line ('_',
U+005F). Note that the '.' separator is not allowed because it is reserved to
separate an entity property type and an information resource identifier when
an entity property is resource-specific.<a href="#section-5.2.1-1" class="pilcrow">¶</a></p>
<p id="section-5.2.1-2">Each entity property type MUST be registered with the IANA. The intended
semantics of the entity property type MUST be specified at the same time.<a href="#section-5.2.1-2" class="pilcrow">¶</a></p>
<p id="section-5.2.1-3">Identifiers prefixed with "priv:" are reserved for Private Use <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>
without a need to register with IANA. All other identifiers for entity
property types appearing in an HTTP request or response with an
"application/alto-*" media type MUST be registered in the "ALTO Entity
Property Type Registry", defined in <a href="#IANAEntityProp" class="xref">Section 12.3</a>. For an entity
property identifier with the "priv:" prefix, an additional string (e.g.,
company identifier or random string) MUST follow the prefix to reduce
potential collisions, that is, the string "priv:" alone is not a valid
endpoint property identifier.<a href="#section-5.2.1-3" class="pilcrow">¶</a></p>
<p id="section-5.2.1-4">To distinguish from the endpoint property type, the entity property type has
the following characteristics:<a href="#section-5.2.1-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2.1-5.1">Some entity property types are applicable to entities in particular entity
domain types only. For example, the property type "pid" is applicable to
entities in the entity domain types "ipv4" or "ipv6" while is not
applicable to entities in an entity domain of type "pid".<a href="#section-5.2.1-5.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.2.1-5.2">The intended semantics of the value of an entity property may also depend
on the entity domain type. For example, suppose that a property named
"geo-location" is defined as the coordinates of a point, encoded as:
"latitude longitude [altitude]." When applied to an entity that represents
a specific host computer, identified by an address in an entity domain of
type "ipv4" or "ipv6", the "geo-location" property would define the host's
location. However, when applied to an entity in a "pid" domain type, the
property would indicate the location of the center of all hosts in this
"pid" entity.<a href="#section-5.2.1-5.2" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</div>
<div id="entity-property-name">
<section id="section-5.2.2">
          <h4 id="name-entity-property-name">
<a href="#section-5.2.2" class="section-number selfRef">5.2.2. </a><a href="#name-entity-property-name" class="section-name selfRef">Entity Property Name</a>
          </h4>
<p id="section-5.2.2-1">Each entity property is identified by an entity property name, which is a
string of the following format:<a href="#section-5.2.2-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.2.2-2">
<pre>
EntityPropertyName ::= [ ResourceID ] '.' EntityPropertyType
</pre><a href="#section-5.2.2-2" class="pilcrow">¶</a>
</div>
<p id="section-5.2.2-3">Similar to the endpoint property type defined in Section 10.8 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>,
each entity property may be defined by either the property map itself
(self-defined) or some other specific information resource
(resource-specific).<a href="#section-5.2.2-3" class="pilcrow">¶</a></p>
<p id="section-5.2.2-4">The entity property name of a resource-specific entity property starts with a
string of the type ResourceID defined in <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>, followed by the '.'
separator (U+002E) and a EntityDomainType typed string. For example, the
"pid" properties of an "ipv4" entity defined by two different maps
"net-map-1" and "net-map-2" are identified by "net-map-1.pid" and
"net-map-2.pid" respectively.<a href="#section-5.2.2-4" class="pilcrow">¶</a></p>
<p id="section-5.2.2-5">The specific information resource of an entity property may be the current
information resource itself, that is, the property map defining the property.
In that case, the ResourceID in the property name SHOULD be ignored. For
example, the property name ".asn" applied to an entity identitifed by its
IPv4 address, indicates the AS number of the AS that "owns" the entity, where
the returned AS number is defined by the property map itself.<a href="#section-5.2.2-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="format-entity-property-value">
<section id="section-5.2.3">
          <h4 id="name-format-for-entity-property-">
<a href="#section-5.2.3" class="section-number selfRef">5.2.3. </a><a href="#name-format-for-entity-property-" class="section-name selfRef">Format for Entity Property Value</a>
          </h4>
<p id="section-5.2.3-1"><span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span> in Section 11.4.1.6, specifies that an implementation of the
Endpoint Property Service specified in <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span> SHOULD assume that the
property value is a JSONString and fail to parse if it is not. This document
extends the format of a property value by allowing it to be a JSONValue
instead of just a JSONString.<a href="#section-5.2.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="entity-domain-types">
<section id="section-6">
      <h2 id="name-entity-domain-types-defined">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-entity-domain-types-defined" class="section-name selfRef">Entity Domain Types Defined in this Document</a>
      </h2>
<p id="section-6-1">This document requires the definition of each entity domain type MUST include
(1) the entity domain type name and (2) domain-specific entity identifiers,
and MAY include (3) hierarchy and inheritance semantics optionally. This
document defines three initial entity domain types as follows.<a href="#section-6-1" class="pilcrow">¶</a></p>
<div id="inet-addr-domain">
<section id="section-6.1">
        <h3 id="name-internet-address-domain-typ">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-internet-address-domain-typ" class="section-name selfRef">Internet Address Domain Types</a>
        </h3>
<p id="section-6.1-1">The document defines two entity domain types (IPv4 and IPv6) for Internet
addresses. Both types are resource-agnostic entity domain types and hence
define corresponding resource-agnostic entity domains as well. Since the two
domains use the same hierarchy and inheritance semantics, we define the
semantics together, instead of repeating for each.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<div id="ipv4-domain">
<section id="section-6.1.1">
          <h4 id="name-entity-domain-type-ipv4">
<a href="#section-6.1.1" class="section-number selfRef">6.1.1. </a><a href="#name-entity-domain-type-ipv4" class="section-name selfRef">Entity Domain Type: IPv4</a>
          </h4>
<div id="ipv4-edt">
<section id="section-6.1.1.1">
            <h5 id="name-entity-domain-type-identifi">
<a href="#section-6.1.1.1" class="section-number selfRef">6.1.1.1. </a><a href="#name-entity-domain-type-identifi" class="section-name selfRef">Entity Domain Type Identifier</a>
            </h5>
<p id="section-6.1.1.1-1">ipv4<a href="#section-6.1.1.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ipv4-dsei">
<section id="section-6.1.1.2">
            <h5 id="name-domain-specific-entity-iden">
<a href="#section-6.1.1.2" class="section-number selfRef">6.1.1.2. </a><a href="#name-domain-specific-entity-iden" class="section-name selfRef">Domain-Specific Entity Identifiers</a>
            </h5>
<p id="section-6.1.1.2-1">Individual addresses are strings as specified by the IPv4Addresses rule of
Section 3.2.2 of <span>[<a href="#RFC3986" class="xref">RFC3986</a>]</span>; Hierarchical addresses are prefix-match strings
as specified in Section 3.1 of <span>[<a href="#RFC4632" class="xref">RFC4632</a>]</span>. To define properties, an
individual Internet address and the corresponding full-length prefix are
considered aliases for the same entity. An individual Internet address and
the corresponding full-length prefix are considered aliases for the same
entity on which to define properties. Thus, "ipv4:192.0.2.0" and
"ipv4:192.0.2.0/32" are equivalent.<a href="#section-6.1.1.2-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="ipv6-domain">
<section id="section-6.1.2">
          <h4 id="name-entity-domain-type-ipv6">
<a href="#section-6.1.2" class="section-number selfRef">6.1.2. </a><a href="#name-entity-domain-type-ipv6" class="section-name selfRef">Entity Domain Type: IPv6</a>
          </h4>
<div id="ipv6-edt">
<section id="section-6.1.2.1">
            <h5 id="name-entity-domain-type-identifie">
<a href="#section-6.1.2.1" class="section-number selfRef">6.1.2.1. </a><a href="#name-entity-domain-type-identifie" class="section-name selfRef">Entity Domain Type Identifier</a>
            </h5>
<p id="section-6.1.2.1-1">ipv6<a href="#section-6.1.2.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ipv6-dsei">
<section id="section-6.1.2.2">
            <h5 id="name-domain-specific-entity-ident">
<a href="#section-6.1.2.2" class="section-number selfRef">6.1.2.2. </a><a href="#name-domain-specific-entity-ident" class="section-name selfRef">Domain-Specific Entity Identifiers</a>
            </h5>
<p id="section-6.1.2.2-1">Individual addresses are strings as specified by Section 4 of <span>[<a href="#RFC5952" class="xref">RFC5952</a>]</span>;
Hierarchical addresses are prefix-match strings as specified in Section 7 of
<span>[<a href="#RFC5952" class="xref">RFC5952</a>]</span>. To define properties, an individual Internet address and the
corresponding 128-bit prefix are considered aliases for the same entity. That
is, "ipv6:2001:db8::1" and "ipv6:2001:db8::1/128" are equivalent, and have
the same set of properties.<a href="#section-6.1.2.2-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="inet-inheritance">
<section id="section-6.1.3">
          <h4 id="name-hierarchy-and-inheritance-o">
<a href="#section-6.1.3" class="section-number selfRef">6.1.3. </a><a href="#name-hierarchy-and-inheritance-o" class="section-name selfRef">Hierarchy and Inheritance of Internet Address Domains</a>
          </h4>
<p id="section-6.1.3-1">Both Internet address domains allow property values to be inherited.
Specifically, if a property P is not defined for a specific Internet address
I, but P is defined for a hierarchical Internet address C which
prefix-matches I, then the address I inherits the value of P defined for the
hierarchical address C. If more than one such hierarchical addresses define a
value for P, I inherits the value of P in the hierarchical address with the
longest prefix. Note that this longest prefix rule ensures no multiple value
inheritances, and hence no ambiguity.<a href="#section-6.1.3-1" class="pilcrow">¶</a></p>
<p id="section-6.1.3-2">Hierarchical addresses can also inherit properties: if a property P is not
defined for the hierarchical address C, but is defined for another
hierarchical address C' which covers all IP addresses in C, and C' has a
shorter prefix length than C, then C MAY inherit the property from C'. If
there are multiple such hierarchical addresses like C', C MUST inherit from
the hierarchical address having the longest prefix length.<a href="#section-6.1.3-2" class="pilcrow">¶</a></p>
<p id="section-6.1.3-3">As an example, suppose that a server defines a property P for the following
entities:<a href="#section-6.1.3-3" class="pilcrow">¶</a></p>
<span id="name-defined-property-values"></span><div id="fig_def-prop-val">
<figure id="figure-1">
            <div class="artwork art-text alignLeft" id="section-6.1.3-4.1">
<pre>
                          ipv4:192.0.2.0/26: P=v1
                          ipv4:192.0.2.0/28: P=v2
                          ipv4:192.0.2.0/30: P=v3
                          ipv4:192.0.2.0:    P=v4
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-defined-property-values" class="selfRef">Defined Property Values.</a>
            </figcaption></figure>
</div>
<p id="section-6.1.3-5">Then the following entities have the indicated values:<a href="#section-6.1.3-5" class="pilcrow">¶</a></p>
<span id="name-inherited-property-values"></span><div id="fig_inh-prop-val">
<figure id="figure-2">
            <div class="artwork art-text alignLeft" id="section-6.1.3-6.1">
<pre>
                      ipv4:192.0.2.0:    P=v4
                      ipv4:192.0.2.1:    P=v3
                      ipv4:192.0.2.16:   P=v1
                      ipv4:192.0.2.32:   P=v1
                      ipv4:192.0.2.64:   (not defined)
                      ipv4:192.0.2.0/32: P=v4
                      ipv4:192.0.2.0/31: P=v3
                      ipv4:192.0.2.0/29: P=v2
                      ipv4:192.0.2.0/27: P=v1
                      ipv4:192.0.2.0/25: (not defined)
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-inherited-property-values" class="selfRef">Inherited Property Values.</a>
            </figcaption></figure>
</div>
<p id="section-6.1.3-7">An ALTO server MAY explicitly indicate a property as not having a value for
a particular entity. That is, a server MAY say that property P of entity X is
"defined to have no value", instead of "undefined". To indicate "no value",
a server MAY perform different behaviours:<a href="#section-6.1.3-7" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.1.3-8.1">If that entity would inherit a value for that property, then the ALTO server
MUST return a <code>null</code> value for that property. In this case, the ALTO client
MUST recognize a <code>null</code> value as "no value" and "do not apply the inheritance
rules for this property."<a href="#section-6.1.3-8.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-6.1.3-8.2">If the entity would not inherit a value, then the ALTO server MAY return
<code>null</code> or just omit the property. In this case, the ALTO client cannot infer
the value for this property of this entity from the Inheritance rules. So the
client MUST interpret that this property has no value.<a href="#section-6.1.3-8.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-6.1.3-9">If the ALTO server does not define any properties for an entity, then the
server MAY omit that entity from the response.<a href="#section-6.1.3-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="defining-IR-media-type-ipv4-ipv6">
<section id="section-6.1.4">
          <h4 id="name-defining-information-resource-">
<a href="#section-6.1.4" class="section-number selfRef">6.1.4. </a><a href="#name-defining-information-resource-" class="section-name selfRef">Defining Information Resource Media Type for domain types IPv4 and IPv6</a>
          </h4>
<p id="section-6.1.4-1">Entity domain types "ipv4" and "ipv6" both allow to define resource specific
entity domains. When resource specific domains are defined with entities of
domain type "ipv4" or "ipv6", the defining information resource for an entity
domain of type "ipv4" or "ipv6" MUST be a Network Map. The media type of a
defining information resource is therefore:<a href="#section-6.1.4-1" class="pilcrow">¶</a></p>
<p id="section-6.1.4-2">application/alto-networkmap+json<a href="#section-6.1.4-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="pid-domain">
<section id="section-6.2">
        <h3 id="name-entity-domain-type-pid">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-entity-domain-type-pid" class="section-name selfRef">Entity Domain Type: PID</a>
        </h3>
<p id="section-6.2-1">The PID domain associates property values with the PIDs in a network map.
Accordingly, this entity domain always depends on a network map.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<div id="entity-domain-type-identifier">
<section id="section-6.2.1">
          <h4 id="name-entity-domain-type-identifier">
<a href="#section-6.2.1" class="section-number selfRef">6.2.1. </a><a href="#name-entity-domain-type-identifier" class="section-name selfRef">Entity Domain Type Identifier</a>
          </h4>
<p id="section-6.2.1-1">pid<a href="#section-6.2.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="domain-specific-entity-identifiers">
<section id="section-6.2.2">
          <h4 id="name-domain-specific-entity-identi">
<a href="#section-6.2.2" class="section-number selfRef">6.2.2. </a><a href="#name-domain-specific-entity-identi" class="section-name selfRef">Domain-Specific Entity Identifiers</a>
          </h4>
<p id="section-6.2.2-1">The entity identifiers are the PID names of the associated network map.<a href="#section-6.2.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="hierarchy-and-inheritance">
<section id="section-6.2.3">
          <h4 id="name-hierarchy-and-inheritance-2">
<a href="#section-6.2.3" class="section-number selfRef">6.2.3. </a><a href="#name-hierarchy-and-inheritance-2" class="section-name selfRef">Hierarchy and Inheritance</a>
          </h4>
<p id="section-6.2.3-1">There is no hierarchy or inheritance for properties associated with PIDs.<a href="#section-6.2.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="defining-IR-media-type-pid">
<section id="section-6.2.4">
          <h4 id="name-defining-information-resource-m">
<a href="#section-6.2.4" class="section-number selfRef">6.2.4. </a><a href="#name-defining-information-resource-m" class="section-name selfRef">Defining Information Resource Media Type for Domain Type PID</a>
          </h4>
<p id="section-6.2.4-1">The entity domain type "pid" allows to define resource specific entity
domains. When resource specific domains are defined with entities of domain
type "pid", the defining information resource for entity domain type "pid"
MUST be a Network Map. The media type of a defining information resource is
therefore:<a href="#section-6.2.4-1" class="pilcrow">¶</a></p>
<p id="section-6.2.4-2">application/alto-networkmap+json<a href="#section-6.2.4-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="relationship-to-internet-addresses-domains">
<section id="section-6.2.5">
          <h4 id="name-relationship-to-internet-ad">
<a href="#section-6.2.5" class="section-number selfRef">6.2.5. </a><a href="#name-relationship-to-internet-ad" class="section-name selfRef">Relationship To Internet Addresses Domains</a>
          </h4>
<p id="section-6.2.5-1">The PID domain and the Internet address domains are completely independent;
the properties associated with a PID have no relation to the properties
associated with the prefixes or endpoint addresses in that PID. An ALTO
server MAY choose to assign all the properties of a PID to the prefixes in
that PID or only some of these properties.<a href="#section-6.2.5-1" class="pilcrow">¶</a></p>
<p id="section-6.2.5-2">For example, suppose "PID1" consists of the prefix "ipv4:192.0.2.0/24", and
has the property "P" with value "v1". The Internet address entities
"ipv4:192.0.2.0" and "ipv4:192.0.2.0/24" in the IPv4 domain MAY have a value
for the property "P", and if they do, it is not necessarily "v1".<a href="#section-6.2.5-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="internet-address-properties-vs-pid-properties">
<section id="section-6.3">
        <h3 id="name-internet-address-properties">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-internet-address-properties" class="section-name selfRef">Internet Address Properties vs. PID Properties</a>
        </h3>
<p id="section-6.3-1">Because the Internet address and PID domains relate to completely distinct domain types, the
question may arise as to which entity domain type is the best for a property. In general, the
Internet address domain types are RECOMMENDED for properties that are closely related
to the Internet address, or are associated with, and inherited through, hierarchical addresses.<a href="#section-6.3-1" class="pilcrow">¶</a></p>
<p id="section-6.3-2">The PID domain type is RECOMMENDED for properties that arise from the definition of
the PID, rather than from the Internet address prefixes in that PID.<a href="#section-6.3-2" class="pilcrow">¶</a></p>
<p id="section-6.3-3">For example, because Internet addresses are allocated to service providers by
blocks of prefixes, an "ISP" property would be best associated with Internet
address domain types. On the other hand, a property that explains why a PID
was formed, or how it relates to a provider's network, would best be
associated with the PID domain type.<a href="#section-6.3-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="prop-map">
<section id="section-7">
      <h2 id="name-property-map">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-property-map" class="section-name selfRef">Property Map</a>
      </h2>
<p id="section-7-1">A property map returns the properties defined for all entities in one or more
domains, e.g., the "location" property of entities in "pid" domain, and the
"ASN" property of entities in "ipv4" and "ipv6" domains.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2"><a href="#prop-map-example" class="xref">Section 10.4</a> gives an example of a property map request and its
response.<a href="#section-7-2" class="pilcrow">¶</a></p>
<div id="FullPropMapMediaType">
<section id="section-7.1">
        <h3 id="name-media-type">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-media-type" class="section-name selfRef">Media Type</a>
        </h3>
<p id="section-7.1-1">The media type of a property map is <code>application/alto-propmap+json</code>.<a href="#section-7.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="http-method">
<section id="section-7.2">
        <h3 id="name-http-method">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-http-method" class="section-name selfRef">HTTP Method</a>
        </h3>
<p id="section-7.2-1">The property map is requested using the HTTP GET method.<a href="#section-7.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="accept-input-parameters">
<section id="section-7.3">
        <h3 id="name-accept-input-parameters">
<a href="#section-7.3" class="section-number selfRef">7.3. </a><a href="#name-accept-input-parameters" class="section-name selfRef">Accept Input Parameters</a>
        </h3>
<p id="section-7.3-1">None.<a href="#section-7.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="FullPropMapCapabilities">
<section id="section-7.4">
        <h3 id="name-capabilities">
<a href="#section-7.4" class="section-number selfRef">7.4. </a><a href="#name-capabilities" class="section-name selfRef">Capabilities</a>
        </h3>
<p id="section-7.4-1">The capabilities are defined by an object of type PropertyMapCapabilities:<a href="#section-7.4-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-7.4-2">
<pre>
    object {
      EntityPropertyMapping mappings;
    } PropertyMapCapabilities;

    object-map {
      EntityDomainName -&gt; EntityPropertyName&lt;1..*&gt;;
    } EntityPropertyMapping
</pre><a href="#section-7.4-2" class="pilcrow">¶</a>
</div>
<p id="section-7.4-3">with fields:<a href="#section-7.4-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.4-4">
          <dt id="section-7.4-4.1">
mappings:  </dt>
          <dd style="margin-left: 1.5em" id="section-7.4-4.2">
            <p id="section-7.4-4.2.1">A JSON object whose keys are names of entity domains and values are the
supported entity properties of the corresponding entity domains.<a href="#section-7.4-4.2.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="FullPropMapUses">
<section id="section-7.5">
        <h3 id="name-uses">
<a href="#section-7.5" class="section-number selfRef">7.5. </a><a href="#name-uses" class="section-name selfRef">Uses</a>
        </h3>
<p id="section-7.5-1">The <code>uses</code> field of a property map resource in an IRD entry specifies
dependent resources of this property map. It is an array of the resource ID(s)
of the resource(s).<a href="#section-7.5-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="FullPropMapResponse">
<section id="section-7.6">
        <h3 id="name-response">
<a href="#section-7.6" class="section-number selfRef">7.6. </a><a href="#name-response" class="section-name selfRef">Response</a>
        </h3>
<p id="section-7.6-1">If the entity domains in this property map depend on other resources, the
<code>dependent-vtags</code> field in the <code>meta</code> field of the response MUST be an array
that includes the version tags of those resources, and the order MUST be
consistent with the <code>uses</code> field of this property map resource. The data
component of a property map response is named <code>property-map</code>, which is a JSON
object of type PropertyMapData, where:<a href="#section-7.6-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-7.6-2">
<pre>
    object {
      PropertyMapData property-map;
    } InfoResourceProperties : ResponseEntityBase;

    object-map {
      EntityID -&gt; EntityProps;
    } PropertyMapData;

    object {
      EntityPropertyName -&gt; JSONValue;
    } EntityProps;
</pre><a href="#section-7.6-2" class="pilcrow">¶</a>
</div>
<p id="section-7.6-3">The ResponseEntityBase type is defined in Section 8.4 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>.<a href="#section-7.6-3" class="pilcrow">¶</a></p>
<p id="section-7.6-4">Specifically, a PropertyMapData object has one member for each entity in the
property map. The entity's properties are encoded in the corresponding
EntityProps object. EntityProps encodes one name/value pair for each property,
where the property names are encoded as strings of type PropertyName.
A protocol implementation SHOULD assume that the property value is either
a JSONString or a JSON "null" value, and fail to parse if it is not, unless the
implementation is using an extension to this document that indicates when and
how property values of other data types are signaled.<a href="#section-7.6-4" class="pilcrow">¶</a></p>
<p id="section-7.6-5">For each entity in the property map:<a href="#section-7.6-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.6-6.1">If the entity is in a resource-specific entity domain, the ALTO server SHOULD
only return self-defined properties and resource-specific properties which
depend on the same resource as the entity does. The ALTO client SHOULD ignore
the resource-specific property in this entity if their mapping is not
registered in the ALTO Resource Entity Property Transfer Registry of the type
of the corresponding resource.<a href="#section-7.6-6.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-7.6-6.2">If the entity is in a shared entity domain, the ALTO server SHOULD return
self-defined properties and all resource-specific properties defined for all
resource-specific entities which have the same domain-specific entity
identifier as this entity does.<a href="#section-7.6-6.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-7.6-7">For efficiency, the ALTO server SHOULD omit property values that are inherited
rather than explicitly defined; if a client needs inherited values, the client
SHOULD use the entity domain's inheritance rules to deduce those values.<a href="#section-7.6-7" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="filter-prop-map">
<section id="section-8">
      <h2 id="name-filtered-property-map">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-filtered-property-map" class="section-name selfRef">Filtered Property Map</a>
      </h2>
<p id="section-8-1">A filtered property map returns the values of a set of properties for a set of
entities selected by the client.<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2"><a href="#filt-prop-map-example-1" class="xref">Section 10.5</a>, <a href="#filt-prop-map-example-2" class="xref">Section 10.6</a>,
<a href="#filt-prop-map-example-3" class="xref">Section 10.7</a> and <a href="#filt-prop-map-example-4" class="xref">Section 10.8</a> give examples of
filtered property map requests and responses.<a href="#section-8-2" class="pilcrow">¶</a></p>
<div id="FilterPropMapMediaType">
<section id="section-8.1">
        <h3 id="name-media-type-2">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-media-type-2" class="section-name selfRef">Media Type</a>
        </h3>
<p id="section-8.1-1">The media type of a property map resource is
<code>application/alto-propmap+json</code>.<a href="#section-8.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="http-method-1">
<section id="section-8.2">
        <h3 id="name-http-method-2">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-http-method-2" class="section-name selfRef">HTTP Method</a>
        </h3>
<p id="section-8.2-1">The filtered property map is requested using the HTTP POST method.<a href="#section-8.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="filter-prop-map-params">
<section id="section-8.3">
        <h3 id="name-accept-input-parameters-2">
<a href="#section-8.3" class="section-number selfRef">8.3. </a><a href="#name-accept-input-parameters-2" class="section-name selfRef">Accept Input Parameters</a>
        </h3>
<p id="section-8.3-1">The input parameters for a filtered property map request are supplied in the
entity body of the POST request. This document specifies the input parameters
with a data format indicated by the media type
<code>application/alto-propmapparams+json</code>, which is a JSON object of type
ReqFilteredPropertyMap:<a href="#section-8.3-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-8.3-2">
<pre>
  object {
    EntityID             entities&lt;1..*&gt;;
    EntityPropertyName   properties&lt;1..*&gt;;
  } ReqFilteredPropertyMap;
</pre><a href="#section-8.3-2" class="pilcrow">¶</a>
</div>
<p id="section-8.3-3">with fields:<a href="#section-8.3-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-8.3-4">
          <dt id="section-8.3-4.1">
entities:  </dt>
          <dd style="margin-left: 1.5em" id="section-8.3-4.2">
            <p id="section-8.3-4.2.1">List of entity identifiers for which the specified properties are to be
returned. The ALTO server MUST interpret entries appearing multiple times
as if they appeared only once. The domain of each entity MUST be included
in the list of entity domains in this resource's <code>capabilities</code> field (see
<a href="#FilteredPropMapCapabilities" class="xref">Section 8.4</a>).<a href="#section-8.3-4.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-8.3-4.3">
properties:  </dt>
          <dd style="margin-left: 1.5em" id="section-8.3-4.4">
            <p id="section-8.3-4.4.1">List of properties to be returned for each entity. Each specified property
MUST be included in the list of properties in this resource's
<code>capabilities</code> field (see <a href="#FilteredPropMapCapabilities" class="xref">Section 8.4</a>). The ALTO
server MUST interpret entries appearing multiple times as if they appeared
only once.<a href="#section-8.3-4.4.1" class="pilcrow">¶</a></p>
<p id="section-8.3-4.4.2">Note that the <code>entities</code> and <code>properties</code> fields MUST have at least one entry
each.<a href="#section-8.3-4.4.2" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="FilteredPropMapCapabilities">
<section id="section-8.4">
        <h3 id="name-capabilities-2">
<a href="#section-8.4" class="section-number selfRef">8.4. </a><a href="#name-capabilities-2" class="section-name selfRef">Capabilities</a>
        </h3>
<p id="section-8.4-1">The capabilities are defined by an object of type PropertyMapCapabilities, as
defined in <a href="#FullPropMapCapabilities" class="xref">Section 7.4</a>.<a href="#section-8.4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="uses">
<section id="section-8.5">
        <h3 id="name-uses-2">
<a href="#section-8.5" class="section-number selfRef">8.5. </a><a href="#name-uses-2" class="section-name selfRef">Uses</a>
        </h3>
<p id="section-8.5-1">Same to the <code>uses</code> field of the Property Map resource (see
<a href="#FullPropMapUses" class="xref">Section 7.5</a>).<a href="#section-8.5-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="FilteredPropMapResponse">
<section id="section-8.6">
        <h3 id="name-filtered-property-map-respo">
<a href="#section-8.6" class="section-number selfRef">8.6. </a><a href="#name-filtered-property-map-respo" class="section-name selfRef">Filtered Property Map Response</a>
        </h3>
<p id="section-8.6-1">The response MUST indicate an error, using ALTO protocol error handling, as
defined in Section 8.5 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>, if the request is invalid.<a href="#section-8.6-1" class="pilcrow">¶</a></p>
<p id="section-8.6-2">Specifically, a filtered property map request can be invalid in the following cases:<a href="#section-8.6-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.6-3.1">
            <p id="section-8.6-3.1.1">An entity identifier in the <code>entities</code> field of the request is invalid if:<a href="#section-8.6-3.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.6-3.1.2.1">The domain of this entity is not defined in the <code>entity-domains</code>
capability of this resource in the IRD,<a href="#section-8.6-3.1.2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-8.6-3.1.2.2">The entity identifier is not valid for the entity domain.<a href="#section-8.6-3.1.2.2" class="pilcrow">¶</a>
</li>
            </ul>
<p id="section-8.6-3.1.3">
A valid entity identifier does never generate an error, even if the filtered property
  map resource does not define any properties for it.<a href="#section-8.6-3.1.3" class="pilcrow">¶</a></p>
<p id="section-8.6-3.1.4">
If an entity identifier in the <code>entities</code> field of the request is invalid, the ALTO
  server MUST return an <code>E_INVALID_FIELD_VALUE</code> error defined in Section
  8.5.2 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>, and the <code>value</code> field of the error message SHOULD
  indicate the provided invalid entity identifier.<a href="#section-8.6-3.1.4" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.6-3.2">
            <p id="section-8.6-3.2.1">A property name in the <code>properties</code> field of the request is invalid if this
property name is not defined in the <code>properties</code> capability of this
resource in the IRD.<a href="#section-8.6-3.2.1" class="pilcrow">¶</a></p>
<p id="section-8.6-3.2.2">
When a filtered property map resource does not define a value for a
  property requested on a particular entity, it is not an error. In this
  case, the ALTO server MUST omit that property from the response for that
  endpoint.<a href="#section-8.6-3.2.2" class="pilcrow">¶</a></p>
<p id="section-8.6-3.2.3">
If a property name in <code>properties</code> in the request is invalid, the ALTO
  server MUST return an <code>E_INVALID_FIELD_VALUE</code> error defined in Section
  8.5.2 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>. The <code>value</code> field of the error message SHOULD
  indicate the property name.<a href="#section-8.6-3.2.3" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-8.6-4">The response to a valid request is the same as for the Property Map
(see <a href="#FullPropMapResponse" class="xref">Section 7.6</a>), except that:<a href="#section-8.6-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.6-5.1">If the requested entities include entities in the shared entity domain, the
<code>dependent-vtags</code> field in its <code>meta</code> field MUST include version tags of all
dependent resources appearing in the <code>uses</code> field.<a href="#section-8.6-5.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.6-5.2">If the requested entities only include entities in resource-specific entity
domains, the <code>dependent-vtags</code> field in its <code>meta</code> field MUST include the version
tags of the resources on which the requested resource-specific entity domains and
the requested resource-specific properties are dependent on.<a href="#section-8.6-5.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.6-5.3">The response only includes the entities and properties requested by the
client. If an entity in the request is identified by a hierarchical identifier
(e.g., a "ipv4" or "ipv6" prefix), the response MUST cover properties
for all identifiers in this hierarchical identifier.<a href="#section-8.6-5.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-8.6-6">The filtered property map response MUST include all the inherited property
values for the requested entities and all the entities which are able to
inherit property values from the requested entities. To achieve this goal,
the ALTO server MAY follow three rules:<a href="#section-8.6-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.6-7.1">If a property for a requested entity is inherited from another entity not
included in the request, the response SHOULD include this property for the
requested entity. For example, A full property map may skip a property P for
an entity A (e.g., ipv4:192.0.2.0/31) if P can be derived using inheritance
from another entity B (e.g., ipv4:192.0.2.0/30). A filtered property map
request may include only A but not B. In such a case, the property P SHOULD be
included in the response for A.<a href="#section-8.6-7.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.6-7.2">If there are entities covered by a requested entity but having different
values for the requested properties, the response SHOULD include all those
entities and the different property values for them. For example, considering
a request for property P of entity A (e.g., ipv4:192.0.2.0/31), if P has value
v1 for A1=ipv4:192.0.2.0/32 and v2 for A2=ipv4:192.0.2.1/32, then, the
response SHOULD include A1 and A2.<a href="#section-8.6-7.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.6-7.3">If an entity identifier in the response is already covered by other
entities identifiers in the same response, it SHOULD be removed from the
response, for the sake of compactness. In the previous example, the entity
A = ipv4:192.0.2.0/31 SHOULD be removed because A1 and A2 cover all the
addresses in A.<a href="#section-8.6-7.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-8.6-8">An ALTO client should be aware that the entities in the response MAY be
different from the entities in its request.<a href="#section-8.6-8" class="pilcrow">¶</a></p>
</section>
</div>
<div id="prop-type-pid">
<section id="section-8.7">
        <h3 id="name-entity-property-type-define">
<a href="#section-8.7" class="section-number selfRef">8.7. </a><a href="#name-entity-property-type-define" class="section-name selfRef">Entity property type defined in this document</a>
        </h3>
<p id="section-8.7-1">This document defines the entity property type "pid". This property type
extends the ALTO Endpoint Property Type "pid" defined in section 7.1.1 of
<span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span> as follows: the property has the same semantics and applies to
IPv4 and IPv6 addresses; the difference is that the IPv4 and IPv6 addresses
have evolved from the status of endpoints to the status of entities.<a href="#section-8.7-1" class="pilcrow">¶</a></p>
<p id="section-8.7-2">The defining information resource for property type MUST be a network map.
This document requests a IANA registration for this property<a href="#section-8.7-2" class="pilcrow">¶</a></p>
<div id="entity-property-type-pid">
<section id="section-8.7.1">
          <h4 id="name-entity-property-type-pid">
<a href="#section-8.7.1" class="section-number selfRef">8.7.1. </a><a href="#name-entity-property-type-pid" class="section-name selfRef">Entity Property Type: pid</a>
          </h4>
<ol start="1" type="1" class="normal type-1" id="section-8.7.1-1">
<li id="section-8.7.1-1.1">Identifier: pid<a href="#section-8.7.1-1.1" class="pilcrow">¶</a>
</li>
            <li id="section-8.7.1-1.2">Semantics: the intended semantics are the same as in <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span> for the
ALTO Endpoint Property Type "pid"<a href="#section-8.7.1-1.2" class="pilcrow">¶</a>
</li>
            <li id="section-8.7.1-1.3">Media type of defining information resource: application/alto-networkmap+json<a href="#section-8.7.1-1.3" class="pilcrow">¶</a>
</li>
            <li id="section-8.7.1-1.4">Security considerations: for entity property type "pid" are the same as
documented in <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span> for the ALTO Endpoint Property Type "pid".<a href="#section-8.7.1-1.4" class="pilcrow">¶</a>
</li>
          </ol>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="legacy">
<section id="section-9">
      <h2 id="name-impact-on-legacy-alto-serve">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-impact-on-legacy-alto-serve" class="section-name selfRef">Impact on Legacy ALTO Servers and ALTO Clients</a>
      </h2>
<div id="impact-on-endpoint-property-service">
<section id="section-9.1">
        <h3 id="name-impact-on-endpoint-property">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-impact-on-endpoint-property" class="section-name selfRef">Impact on Endpoint Property Service</a>
        </h3>
<p id="section-9.1-1">Since the Property Map and the Filtered Property Map defined in this document
provide a functionality that covers the Endpoint Property Service (EPS)
defined in Section 11.4 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>, ALTO servers may prefer to provide
Property Map and Filtered Property Map in place of EPS. However, for the
legacy endpoint properties, it is recommended that ALTO servers also provide
EPS so that legacy clients can still be supported.<a href="#section-9.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="impact-on-resource-specific-properties">
<section id="section-9.2">
        <h3 id="name-impact-on-resource-specific">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-impact-on-resource-specific" class="section-name selfRef">Impact on Resource-Specific Properties</a>
        </h3>
<p id="section-9.2-1">Section 10.8 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span> defines two categories of endpoint properties:
"resource-specific" and "global". Resource-specific property names are
prefixed with the ID of the resource they depend on, while global property
names have no such prefix. The property map and the filtered property map
defined in this document define similar categories of entity properties. The
difference is that entity property maps do not define "global" entity
properties. Instead, they define "self-defined" entity properties as a
special case of "resource-specific" entity properties, where the specific
resource is the property map itself. This means that "self-defined"
properties are defined within the scope of the property map.<a href="#section-9.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="impact-on-other-properties">
<section id="section-9.3">
        <h3 id="name-impact-on-other-properties">
<a href="#section-9.3" class="section-number selfRef">9.3. </a><a href="#name-impact-on-other-properties" class="section-name selfRef">Impact on Other Properties</a>
        </h3>
<p id="section-9.3-1">In the present extension, properties can now be defined on sets of entity
addresses, rather than just individual endpoint addresses as is is the case
in RFC7285. This might change the semantics of a property. These sets can be
for example hierachical IP address blocks. For instance, a property such as
fictitious "geo-location", defined on a set of IP addresses would have a
value corresponding to the barycenter of this set of addresses.<a href="#section-9.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="examples">
<section id="section-10">
      <h2 id="name-examples">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-examples" class="section-name selfRef">Examples</a>
      </h2>
<div id="net-map-example">
<section id="section-10.1">
        <h3 id="name-network-map">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-network-map" class="section-name selfRef">Network Map</a>
        </h3>
<p id="section-10.1-1">The examples in this section use a very simple default network map:<a href="#section-10.1-1" class="pilcrow">¶</a></p>
<span id="name-example-default-network-map"></span><div id="net-map-values-ex">
<figure id="figure-3">
          <div class="artwork art-text alignLeft" id="section-10.1-2.1">
<pre>
               defaultpid:  ipv4:0.0.0.0/0  ipv6:::0/0
               pid1:        ipv4:192.0.2.0/25
               pid2:        ipv4:192.0.2.0/27
               pid3:        ipv4:192.0.3.0/28
               pid4:        ipv4:192.0.3.16/28
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-example-default-network-map" class="selfRef">Example Default Network Map</a>
          </figcaption></figure>
</div>
<p id="section-10.1-3">And another simple alternative network map:<a href="#section-10.1-3" class="pilcrow">¶</a></p>
<span id="name-example-alternative-network"></span><div id="alt-net-map-values-ex">
<figure id="figure-4">
          <div class="artwork art-text alignLeft" id="section-10.1-4.1">
<pre>
               defaultpid:  ipv4:0.0.0.0/0  ipv6:::0/0
               pid1:        ipv4:192.0.2.0/27
               pid2:        ipv4:192.0.3.0/27
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-example-alternative-network" class="selfRef">Example Alternative Network Map</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="inet-prop-example">
<section id="section-10.2">
        <h3 id="name-property-definitions">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-property-definitions" class="section-name selfRef">Property Definitions</a>
        </h3>
<p id="section-10.2-1">Beyond "pid", the examples in this section use four additional properties for
Internet address domains, "ISP", "ASN", "country" and "state", with the
following values:<a href="#section-10.2-1" class="pilcrow">¶</a></p>
<span id="name-example-property-values-for"></span><div id="prop-map-values-ip-ex">
<figure id="figure-5">
          <div class="artwork art-text alignLeft" id="section-10.2-2.1">
<pre>
                                ISP    ASN   country   state
        ipv4:192.0.2.0/23:    BitsRus   -      us       -
        ipv4:192.0.2.0/28:       -    12345    -        NJ
        ipv4:192.0.2.16/28:      -    12345    -        CT
        ipv4:192.0.2.1:          -      -      -        PA
        ipv4:192.0.3.0/28:       -    12346    -        TX
        ipv4:192.0.3.16/28:      -    12346    -        MN
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-example-property-values-for" class="selfRef">Example Property Values for Internet Address Domains</a>
          </figcaption></figure>
</div>
<p id="section-10.2-3">And the examples in this section use the property "region" for the PID domain of
the default network map with the following values:<a href="#section-10.2-3" class="pilcrow">¶</a></p>
<span id="name-example-property-values-for-"></span><div id="prop-map-values-pid-ex">
<figure id="figure-6">
          <div class="artwork art-text alignLeft" id="section-10.2-4.1">
<pre>
                                      region
                   pid:defaultpid:     -
                   pid:pid1:           us-west
                   pid:pid2:           us-east
                   pid:pid3:           us-south
                   pid:pid4:           us-north
</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-example-property-values-for-" class="selfRef">Example Property Values for Default Network Map's PID Domain</a>
          </figcaption></figure>
</div>
<p id="section-10.2-5">Note that "-" means the value of the property for the entity is "undefined". So
the entity would inherit a value for this property by the inheritance rule if
possible. For example, the value of the "ISP" property for "ipv4:192.0.2.1" is
"BitsRus" because of "ipv4:192.0.2.0/24". But the "region" property for
"pid:defaultpid" has no value because no entity from which it can inherit.<a href="#section-10.2-5" class="pilcrow">¶</a></p>
<p id="section-10.2-6">Similar to the PID domain of the default network map, the examples in this
section use the property "ASN" for the PID domain of the alternative network map
with the following values:<a href="#section-10.2-6" class="pilcrow">¶</a></p>
<span id="name-example-property-values-for-a"></span><div id="alt-prop-map-values-pid-ex">
<figure id="figure-7">
          <div class="artwork art-text alignLeft" id="section-10.2-7.1">
<pre>
                                          ASN
                       pid:defaultpid:     -
                       pid:pid1:         12345
                       pid:pid2:         12346
</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-example-property-values-for-a" class="selfRef">Example Property Values for Alternative Network Map's PID Domain</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="ird-example">
<section id="section-10.3">
        <h3 id="name-information-resource-direct">
<a href="#section-10.3" class="section-number selfRef">10.3. </a><a href="#name-information-resource-direct" class="section-name selfRef">Information Resource Directory (IRD)</a>
        </h3>
<p id="section-10.3-1">The following IRD defines ALTO Server information resources that are relevant
to the Entity Property Service. It provides two property maps: one for the
"ISP" and "ASN" properties, and another one for the "country" and "state"
properties. The server could have provided a single property map for all four
properties, but does not, presumably because the organization that runs the
ALTO server believes that a client is not necessarily interested in getting
all four properties.<a href="#section-10.3-1" class="pilcrow">¶</a></p>
<p id="section-10.3-2">The server provides several filtered property maps. The first returns all
four properties, and the second returns only the "pid" property for the
default network map.<a href="#section-10.3-2" class="pilcrow">¶</a></p>
<p id="section-10.3-3">The filtered property maps for the "ISP", "ASN", "country" and "state"
properties do not depend on the default network map (it does not have a
<code>uses</code> capability), because the definitions of those properties do not depend
on the default network map. The Filtered Property Map providing the "pid"
property does have a <code>uses</code> capability for the default network map, because
the default network map defines the values of the "pid" property.<a href="#section-10.3-3" class="pilcrow">¶</a></p>
<p id="section-10.3-4">Note that for legacy clients, the ALTO server provides an Endpoint Property
Service for the "pid" property defined on the endpoints of the default
network map.<a href="#section-10.3-4" class="pilcrow">¶</a></p>
<p id="section-10.3-5">The server provides another filtered Property map resource, named
"ane-dc-property-map", that returns a fictitious properties named
"storage-capacity", "ram" and "cpu" for ANEs that have a persistent
identifier. The entity domain to which the ANEs belong is "self-defined" and
valid only within the property map.<a href="#section-10.3-5" class="pilcrow">¶</a></p>
<span id="name-example-ird"></span><div id="example-ird">
<figure id="figure-8">
          <div class="artwork art-text alignLeft" id="section-10.3-6.1">
<pre>
 GET /directory HTTP/1.1
 Host: alto.example.com
 Accept: application/alto-directory+json,application/alto-error+json

 HTTP/1.1 200 OK
 Content-Length: 2827
 Content-Type: application/alto-directory+json

 {
   "meta" : {
     "default-alto-network-map" : "default-network-map"
   },
   "resources" : {
     "default-network-map" : {
       "uri" : "http://alto.example.com/networkmap/default",
       "media-type" : "application/alto-networkmap+json"
     },
     "alt-network-map" : {
       "uri" : "http://alto.example.com/networkmap/alt",
       "media-type" : "application/alto-networkmap+json"
     },
     "ia-property-map" : {
       "uri" : "http://alto.example.com/propmap/full/inet-ia",
       "media-type" : "application/alto-propmap+json",
       "uses": [ "default-network-map", "alt-network-map" ],
       "capabilities" : {
         "mappings": {
           "ipv4": [ ".ISP", ".ASN" ],
           "ipv6": [ ".ISP", ".ASN" ]
         }
       }
     },
     "iacs-property-map" : {
       "uri" : "http://alto.example.com/propmap/lookup/inet-iacs",
       "media-type" : "application/alto-propmap+json",
       "accepts": "application/alto-propmapparams+json",
       "uses": [ "default-network-map", "alt-network-map" ],
       "capabilities" : {
         "mappings": {
           "ipv4": [ ".ISP", ".ASN", ".country", ".state" ],
           "ipv6": [ ".ISP", ".ASN", ".country", ".state" ]
         }
       }
     },
     "region-property-map": {
       "uri": "http://alto.example.com/propmap/lookup/region",
       "media-type": "application/alto-propmap+json",
       "accepts": "application/alto-propmapparams+json",
       "uses" : [ "default-network-map", "alt-network-map" ],
       "capabilities": {
         "mappings": {
           "default-network-map.pid": [ ".region" ],
           "alt-network-map.pid": [ ".ASN" ]
         }
       }
     },
     "ip-pid-property-map" : {
       "uri" : "http://alto.example.com/propmap/lookup/pid",
       "media-type" : "application/alto-propmap+json",
       "accepts" : "application/alto-propmapparams+json",
       "uses" : [ "default-network-map", "alt-network-map" ],
       "capabilities" : {
         "mappings": {
           "ipv4": [ "default-network-map.pid",
                     "alt-network-map.pid" ],
           "ipv6": [ "default-network-map.pid",
                     "alt-network-map.pid" ]
         }
       }
     },
     "legacy-endpoint-property" : {
       "uri" : "http://alto.example.com/legacy/eps-pid",
       "media-type" : "application/alto-endpointprop+json",
       "accepts" : "application/alto-endpointpropparams+json",
       "capabilities" : {
         "properties" : [ "default-network-map.pid",
                          "alt-network-map.pid" ]
       }
     },
     "ane-dc-property-map": {
       "uri" : "http://alto.example.com/propmap/lookup/ane-dc",
       "media-type" : "application/alto-propmap+json",
       "accepts": "application/alto-propmapparams+json",
       "capabilities": {
         "mappings": {
           ".ane" : [ "storage-capacity", "ram", "cpu" ]
         }
       }
     }
   }
 }
</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-example-ird" class="selfRef">Example IRD</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="prop-map-example">
<section id="section-10.4">
        <h3 id="name-full-property-map-example">
<a href="#section-10.4" class="section-number selfRef">10.4. </a><a href="#name-full-property-map-example" class="section-name selfRef">Full Property Map Example</a>
        </h3>
<p id="section-10.4-1">The following example uses the properties and IRD defined above in
<a href="#ird-example" class="xref">Section 10.3</a> to retrieve a Property Map for entities with the "ISP" and
"ASN" properties.<a href="#section-10.4-1" class="pilcrow">¶</a></p>
<p id="section-10.4-2">Note that, to be compact, the response does not include the entity
"ipv4:192.0.2.0", because values of all those properties for this entity are
inherited from other entities.<a href="#section-10.4-2" class="pilcrow">¶</a></p>
<p id="section-10.4-3">Also note that the entities "ipv4:192.0.2.0/28" and "ipv4:192.0.2.16/28" are
merged into "ipv4:192.0.2.0/27", because they have the same value of the
"ASN" property. The same rule applies to the entities "ipv4:192.0.3.0/28" and
"ipv4:192.0.3.0/28". Both of "ipv4:192.0.2.0/27" and "ipv4:192.0.3.0/27" omit
the value for the "ISP" property, because it is inherited from
"ipv4:192.0.2.0/23".<a href="#section-10.4-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-10.4-4">
<pre>
GET /propmap/full/inet-ia HTTP/1.1
Host: alto.example.com
Accept: application/alto-propmap+json,application/alto-error+json
</pre><a href="#section-10.4-4" class="pilcrow">¶</a>
</div>
<div class="artwork art-text alignLeft" id="section-10.4-5">
<pre>
HTTP/1.1 200 OK
Content-Length: 418
Content-Type: application/alto-propmap+json

{
  "meta": {
    "dependent-vtags": [
      {"resource-id": "default-network-map",
       "tag": "3ee2cb7e8d63d9fab71b9b34cbf764436315542e"},
      {"resource-id": "alt-network-map",
       "tag": "c0ce023b8678a7b9ec00324673b98e54656d1f6d"}
    ]
  },
  "property-map": {
    "ipv4:192.0.2.0/23":   {".ISP": "BitsRus"},
    "ipv4:192.0.2.0/27":   {".ASN": "12345"},
    "ipv4:192.0.3.0/27":   {".ASN": "12346"}
  }
}
</pre><a href="#section-10.4-5" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="filt-prop-map-example-1">
<section id="section-10.5">
        <h3 id="name-filtered-property-map-examp">
<a href="#section-10.5" class="section-number selfRef">10.5. </a><a href="#name-filtered-property-map-examp" class="section-name selfRef">Filtered Property Map Example #1</a>
        </h3>
<p id="section-10.5-1">The following example uses the filtered property map resource to request the
"ISP", "ASN" and "state" properties for several IPv4 addresses.<a href="#section-10.5-1" class="pilcrow">¶</a></p>
<p id="section-10.5-2">Note that the value of "state" for "ipv4:192.0.2.0" is the only explicitly
defined property; the other values are all derived by the inheritance rules
for Internet address entities.<a href="#section-10.5-2" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-10.5-3">
<pre>
POST /propmap/lookup/inet-iacs HTTP/1.1
Host: alto.example.com
Accept: application/alto-propmap+json,application/alto-error+json
Content-Length: 158
Content-Type: application/alto-propmapparams+json

{
  "entities" : [ "ipv4:192.0.2.0",
                 "ipv4:192.0.2.1",
                 "ipv4:192.0.2.17" ],
  "properties" : [ ".ISP", ".ASN", ".state" ]
}
</pre><a href="#section-10.5-3" class="pilcrow">¶</a>
</div>
<div class="artwork art-text alignLeft" id="section-10.5-4">
<pre>
HTTP/1.1 200 OK
Content-Length: 540
Content-Type: application/alto-propmap+json

{
  "meta": {
    "dependent-vtags": [
      {"resource-id": "default-network-map",
       "tag": "3ee2cb7e8d63d9fab71b9b34cbf764436315542e"},
      {"resource-id": "alt-network-map",
       "tag": "c0ce023b8678a7b9ec00324673b98e54656d1f6d"}
    ]
  },
  "property-map": {
    "ipv4:192.0.2.0":
           {".ISP": "BitsRus", ".ASN": "12345", ".state": "PA"},
    "ipv4:192.0.2.1":
           {".ISP": "BitsRus", ".ASN": "12345", ".state": "NJ"},
    "ipv4:192.0.2.17":
           {".ISP": "BitsRus", ".ASN": "12345", ".state": "CT"}
  }
}
</pre><a href="#section-10.5-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="filt-prop-map-example-2">
<section id="section-10.6">
        <h3 id="name-filtered-property-map-exampl">
<a href="#section-10.6" class="section-number selfRef">10.6. </a><a href="#name-filtered-property-map-exampl" class="section-name selfRef">Filtered Property Map Example #2</a>
        </h3>
<p id="section-10.6-1">The following example uses the filtered property map resource to request the
"ASN", "country" and "state" properties for several IPv4 prefixes.<a href="#section-10.6-1" class="pilcrow">¶</a></p>
<p id="section-10.6-2">Note that the property values for both entities "ipv4:192.0.2.0/26" and
"ipv4:192.0.3.0/26" are not explicitly defined. They are inherited from the
entity "ipv4:192.0.2.0/23".<a href="#section-10.6-2" class="pilcrow">¶</a></p>
<p id="section-10.6-3">Also note that some entities like "ipv4:192.0.2.0/28" and
"ipv4:192.0.2.16/28" in the response are not explicitly listed in the
request. The response includes them because they are refinements of the
requested entities and have different values for the requested properties.<a href="#section-10.6-3" class="pilcrow">¶</a></p>
<p id="section-10.6-4">The entity "ipv4:192.0.4.0/26" is not included in the response, because there
are neither entities which it is inherited from, nor entities inherited from
it.<a href="#section-10.6-4" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-10.6-5">
<pre>
POST /propmap/lookup/inet-iacs HTTP/1.1
Host: alto.example.com
Accept: application/alto-propmap+json,application/alto-error+json
Content-Length: 170
Content-Type: application/alto-propmapparams+json

{
  "entities" : [ "ipv4:192.0.2.0/26",
                 "ipv4:192.0.3.0/26",
                 "ipv4:192.0.4.0/26" ],
  "properties" : [ ".ASN", ".country", ".state" ]
}
</pre><a href="#section-10.6-5" class="pilcrow">¶</a>
</div>
<div class="artwork art-text alignLeft" id="section-10.6-6">
<pre>
HTTP/1.1 200 OK
Content-Length: 766
Content-Type: application/alto-propmap+json

{
  "meta": {
    "dependent-vtags": [
      {"resource-id": "default-network-map",
       "tag": "3ee2cb7e8d63d9fab71b9b34cbf764436315542e"},
      {"resource-id": "alt-network-map",
       "tag": "c0ce023b8678a7b9ec00324673b98e54656d1f6d"}
    ]
  },
  "property-map": {
    "ipv4:192.0.2.0/26":  {".country": "us"},
    "ipv4:192.0.2.0/28":  {".ASN": "12345",
                           ".state": "NJ"},
    "ipv4:192.0.2.16/28": {".ASN": "12345",
                           ".state": "CT"},
    "ipv4:192.0.2.0":     {".state": "PA"},
    "ipv4:192.0.3.0/26":  {".country": "us"},
    "ipv4:192.0.3.0/28":  {".ASN": "12345",
                           ".state": "TX"},
    "ipv4:192.0.3.16/28": {".ASN": "12345",
                           ".state": "MN"}
  }
}
</pre><a href="#section-10.6-6" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="filt-prop-map-example-3">
<section id="section-10.7">
        <h3 id="name-filtered-property-map-example">
<a href="#section-10.7" class="section-number selfRef">10.7. </a><a href="#name-filtered-property-map-example" class="section-name selfRef">Filtered Property Map Example #3</a>
        </h3>
<p id="section-10.7-1">The following example uses the filtered property map resource to request the
"default-network-map.pid" property and the "alt-network-map.pid" property for
a set of IPv4 addresses and prefixes.<a href="#section-10.7-1" class="pilcrow">¶</a></p>
<p id="section-10.7-2">Note that the entity "ipv4:192.0.3.0/27" is decomposed into two entities
"ipv4:192.0.3.0/28" and "ipv4:192.0.3.16/28", as they have different
"default-network-map.pid" property values.<a href="#section-10.7-2" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-10.7-3">
<pre>
POST /propmap/lookup/pid HTTP/1.1
Host: alto.example.com
Accept: application/alto-propmap+json,application/alto-error+json
Content-Length: 221
Content-Type: application/alto-propmapparams+json

{
  "entities" : [
                "ipv4:192.0.2.128",
                "ipv4:192.0.2.0/27",
                "ipv4:192.0.3.0/27" ],
  "properties" : [ "default-network-map.pid",
                   "alt-network-map.pid ]
}
</pre><a href="#section-10.7-3" class="pilcrow">¶</a>
</div>
<div class="artwork art-text alignLeft" id="section-10.7-4">
<pre>
HTTP/1.1 200 OK
Content-Length: 774
Content-Type: application/alto-propmap+json

{
  "meta": {
    "dependent-vtags": [
      {"resource-id": "default-network-map",
       "tag": "3ee2cb7e8d63d9fab71b9b34cbf764436315542e"},
      {"resource-id": "alt-network-map",
       "tag": "c0ce023b8678a7b9ec00324673b98e54656d1f6d"}
    ]
  },
  "property-map": {
    "ipv4:192.0.2.128":   {"default-network-map.pid": "defaultpid",
                           "alt-network-map.pid": "defaultpid"},
    "ipv4:192.0.2.0/27":  {"default-network-map.pid": "pid2",
                           "alt-network-map.pid": "pid1"},
    "ipv4:192.0.3.0/28":  {"default-network-map.pid": "pid3",
                           "alt-network-map.pid": "pid2"},
    "ipv4:192.0.3.16/28": {"default-network-map.pid": "pid4",
                           "alt-network-map.pid": "pid2"}
  }
}
</pre><a href="#section-10.7-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="filt-prop-map-example-4">
<section id="section-10.8">
        <h3 id="name-filtered-property-map-example-">
<a href="#section-10.8" class="section-number selfRef">10.8. </a><a href="#name-filtered-property-map-example-" class="section-name selfRef">Filtered Property Map Example #4</a>
        </h3>
<p id="section-10.8-1">Here is an example of using the filtered property map to query the regions
for several PIDs in "default-network-map". The "region" property is specified
as a "self-defined" property, i.e., the values of this property are defined
by this property map resource.<a href="#section-10.8-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-10.8-2">
<pre>
POST /propmap/lookup/region HTTP/1.1
Host: alto.example.com
Accept: application/alto-propmap+json,application/alto-error+json
Content-Length: 132
Content-Type: application/alto-propmapparams+json

{
  "entities" : ["default-network-map.pid:pid1",
                "default-network-map.pid:pid2"],
  "properties" : [ ".region" ]
}
</pre><a href="#section-10.8-2" class="pilcrow">¶</a>
</div>
<div class="artwork art-text alignLeft" id="section-10.8-3">
<pre>
HTTP/1.1 200 OK
Content-Length: 326
Content-Type: application/alto-propmap+json

{
  "meta" : {
    "dependent-vtags" : [
       {"resource-id": "default-network-map",
        "tag": "7915dc0290c2705481c491a2b4ffbec482b3cf62"}
    ]
  },
  "property-map": {
    "default-network-map.pid:pid1": {
      ".region": "us-west"
    },
    "default-network-map.pid:pid2": {
      ".region": "us-east"
    }
  }
}
</pre><a href="#section-10.8-3" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="ane-example">
<section id="section-10.9">
        <h3 id="name-filtered-property-map-for-a">
<a href="#section-10.9" class="section-number selfRef">10.9. </a><a href="#name-filtered-property-map-for-a" class="section-name selfRef">Filtered Property Map for ANEs Example #5</a>
        </h3>
<p id="section-10.9-1">The following example uses the filtered property map resource
"ane-dc-property-map" to request properties "storage-capacity" and "cpu" on
several ANEs defined in this property map.<a href="#section-10.9-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-10.9-2">
<pre>
POST /propmap/lookup/ane-dc HTTP/1.1
Host: alto.example.com
Accept: application/alto-propmap+json,application/alto-error+json
Content-Length: 155
Content-Type: application/alto-propmapparams+json

{
  "entities" : [".ane:dc21",
                ".ane:dc45.srv9",
                ".ane:dc6.srv-cluster8"],
  "properties" : [ "storage-capacity", "cpu"]
}
</pre><a href="#section-10.9-2" class="pilcrow">¶</a>
</div>
<div class="artwork art-text alignLeft" id="section-10.9-3">
<pre>
HTTP/1.1 200 OK
Content-Length: 295
Content-Type: application/alto-propmap+json

{
  "meta" : {
  },
  "property-map": {
    ".ane:dc21":
      {"storage-capacity" : 40000 Gbytes, "cpu" : 500 Cores},
    ".ane:dc45.srv9":
      {"storage-capacity" : 100 Gbytes, "cpu" : 20 Cores},
    ".ane:dc6.srv-cluster8":
      {"storage-capacity" : 6000 Gbytes, "cpu" : 100 Cores}
  }
}
</pre><a href="#section-10.9-3" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="SecSC">
<section id="section-11">
      <h2 id="name-security-considerations">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-11-1">Both Property Map and Filtered Property Map defined in this document fit into
the architecture of the ALTO base protocol, and hence the Security
Considerations (Section 15 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>) of the base protocol fully apply:
authenticity and integrity of ALTO information (i.e., authenticity and
integrity of Property Maps), potential undesirable guidance from
authenticated ALTO information (e.g., potentially imprecise or even wrong
value of a property such as geo-location), confidentiality of ALTO
information (e.g., exposure of a potentially sensitive entity property such
as geo-location), privacy for ALTO users, and availability of ALTO services
should all be considered.<a href="#section-11-1" class="pilcrow">¶</a></p>
<p id="section-11-2">ALTO Clients using this extension should in addition be aware that the entity
properties they require may convey more details than the endpoint properties
conveyed by using <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>. Client requests may reveal details on their
activity or plans thereof, that a malicious usage may monetize or use for
attacks or undesired surveillance. Likewise, ALTO Servers expose entities and
properties related to specific parts of the infrastructure that reveal
details on capabilities, locations, or resource availability. These details
may be maliciously used for competition purposes, or to cause resources
shortage or undesired publication.<a href="#section-11-2" class="pilcrow">¶</a></p>
<p id="section-11-3">To address these concerns, the Property Maps provided by this extension
require additional attention on two security considerations discussed in
<span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>: "potential undesirable guidance from authenticated ALTO
information" (Section 15.2 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>) and "confidentiality of ALTO
information" (Section 15.3 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>). Threats to the availability of
the ALTO Service caused by highly demanding queries should be addressed as
specified in Section 15.5 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>.<a href="#section-11-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-11-4.1">
          <p id="section-11-4.1.1">Potential undesirable guidance from authenticated ALTO information: It can
be caused by Property values that change over time and thus lead to
performance degradation or system rejection of application requests.<a href="#section-11-4.1.1" class="pilcrow">¶</a></p>
<p id="section-11-4.1.2">
To avoid these consequences, a more robust ALTO Client should adopt and
  extend protection strategies specified in Section 15.2 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>.
  For example, to be notified immediately when a particular ALTO value that
  the Client depends on changes, it is RECOMMENDED that both the ALTO
  Client and ALTO Server using this extension support "Application-Layer
  Traffic Optimization (ALTO) Incremental Updates Using Server-Sent Events
  (SSE)" <span>[<a href="#RFC8895" class="xref">RFC8895</a>]</span>.<a href="#section-11-4.1.2" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-11-4.2">
          <p id="section-11-4.2.1">Confidentiality of ALTO information: As discussed in Section 15 of
<span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>, properties may have sensitive customer-specific information.
If this is the case, an ALTO Server may limit access to those properties by
providing several different property maps. For non-sensitive properties,
the ALTO Server would provide a URI which accepts requests from any client.
Sensitive properties, on the other hand, would only be available via a
secure URI which would require client authentication. Another way is to
expose highly abstracted coarse grain property values to all Clients while
restricting access to URIs exposing finer grain values to authorized
Clients. Restricted access URIs may be gathered in delegate IRDs as
specified in Section 9.2.4 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>.<a href="#section-11-4.2.1" class="pilcrow">¶</a></p>
<p id="section-11-4.2.2">
Also, while technically this document does not introduce any security
  risks not inherent in the Endpoint Property Service defined by <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>,
  the GET-mode property map resource defined in this document does make it
  easier for a client to download large numbers of property values.
  Accordingly, an ALTO Server should limit GET-mode property maps to
  properties that do not contain sensitive data.<a href="#section-11-4.2.2" class="pilcrow">¶</a></p>
<p id="section-11-4.2.3">
In Section 12 on IANA considerations of this document, the ALTO service
  provider MUST be aware of the potential sensitiveness of exposed entity
  domains and properties. Section 12.2.2. (ALTO Entity Domain Type
  Registration Process) of this document specifies that when the
  registration of an entity domain type is requested at the IANA, the
  request MUST include security considerations that show awareness of how
  the exposed entity addresses may be related to private information about
  an ALTO client or an infrastructure service provider. Likewise, Section
  12.3. (ALTO Entity Property Type Registry) of this document specifies
  that when the registration of a property type is requested at the IANA,
  the request MUST include security considerations that explain why this
  property type is required for ALTO-based operations.<a href="#section-11-4.2.3" class="pilcrow">¶</a></p>
<p id="section-11-4.2.4">
The risk of ALTO information being leaked to malicious Clients or third
  parties is addressed similarly to in Section 7 of <span>[<a href="#RFC8896" class="xref">RFC8896</a>]</span>. ALTO
  Clients and Servers SHOULD support both TLS 1.3 <span>[<a href="#RFC8446" class="xref">RFC8446</a>]</span> and TLS 1.2
  <span>[<a href="#RFC5246" class="xref">RFC5246</a>]</span> and MAY support and use newer versions of TLS as long as the
  negotiation process succeeds.<a href="#section-11-4.2.4" class="pilcrow">¶</a></p>
</li>
      </ul>
</section>
</div>
<div id="iana-considerations">
<section id="section-12">
      <h2 id="name-iana-considerations">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-12-1">This document defines additional application/alto-* media types. It defines
an ALTO Entity Domain Type Registry that extends the ALTO Address Type
Registry defined in <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>. It also defines an ALTO Entity Property Type
Registry that extends the ALTO endpoint property registry defined in
<span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>.<a href="#section-12-1" class="pilcrow">¶</a></p>
<div id="applicationalto-media-types">
<section id="section-12.1">
        <h3 id="name-application-alto-media-type">
<a href="#section-12.1" class="section-number selfRef">12.1. </a><a href="#name-application-alto-media-type" class="section-name selfRef">application/alto-* Media Types</a>
        </h3>
<p id="section-12.1-1">This document registers two additional ALTO media types, listed in
<a href="#TableMediaTypes" class="xref">Table 1</a>.<a href="#section-12.1-1" class="pilcrow">¶</a></p>
<span id="name-additional-alto-media-types"></span><div id="TableMediaTypes">
<table class="center" id="table-1">
          <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-additional-alto-media-types" class="selfRef">Additional ALTO Media Types.</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Type</th>
              <th class="text-left" rowspan="1" colspan="1">Subtype</th>
              <th class="text-left" rowspan="1" colspan="1">Specification</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">application</td>
              <td class="text-left" rowspan="1" colspan="1">alto-propmap+json</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#FullPropMapMediaType" class="xref">Section 7.1</a>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">application</td>
              <td class="text-left" rowspan="1" colspan="1">alto-propmapparams+json</td>
              <td class="text-left" rowspan="1" colspan="1">
                <a href="#filter-prop-map-params" class="xref">Section 8.3</a>
</td>
            </tr>
          </tbody>
        </table>
</div>
<span class="break"></span><dl class="dlNewline" id="section-12.1-3">
          <dt id="section-12.1-3.1">
Type name:  </dt>
          <dd style="margin-left: 1.5em" id="section-12.1-3.2">
            <p id="section-12.1-3.2.1">application<a href="#section-12.1-3.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-3.3">
Subtype name:  </dt>
          <dd style="margin-left: 1.5em" id="section-12.1-3.4">
            <p id="section-12.1-3.4.1">This document registers multiple subtypes, as listed in <a href="#TableMediaTypes" class="xref">Table 1</a>.<a href="#section-12.1-3.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-3.5">
Required parameters:  </dt>
          <dd style="margin-left: 1.5em" id="section-12.1-3.6">
            <p id="section-12.1-3.6.1">n/a<a href="#section-12.1-3.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-3.7">
Optional parameters:  </dt>
          <dd style="margin-left: 1.5em" id="section-12.1-3.8">
            <p id="section-12.1-3.8.1">n/a<a href="#section-12.1-3.8.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-3.9">
Encoding considerations:  </dt>
          <dd style="margin-left: 1.5em" id="section-12.1-3.10">
            <p id="section-12.1-3.10.1">Encoding considerations are identical to those specified for the
<code>application/json</code> media type. See <span>[<a href="#RFC8259" class="xref">RFC8259</a>]</span>.<a href="#section-12.1-3.10.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-3.11">
Security considerations:  </dt>
          <dd style="margin-left: 1.5em" id="section-12.1-3.12">
            <p id="section-12.1-3.12.1">Security considerations related to the generation and consumption of ALTO
Protocol messages are discussed in Section 15 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>.<a href="#section-12.1-3.12.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-3.13">
Interoperability considerations:  </dt>
          <dd style="margin-left: 1.5em" id="section-12.1-3.14">
            <p id="section-12.1-3.14.1">This document specifies formats of conforming messages and the interpretation
thereof.<a href="#section-12.1-3.14.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-3.15">
Published specification:  </dt>
          <dd style="margin-left: 1.5em" id="section-12.1-3.16">
            <p id="section-12.1-3.16.1">This document is the specification for these media types; see
<a href="#TableMediaTypes" class="xref">Table 1</a> for the section documenting each media type.<a href="#section-12.1-3.16.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-3.17">
Applications that use this media type:  </dt>
          <dd style="margin-left: 1.5em" id="section-12.1-3.18">
            <p id="section-12.1-3.18.1">ALTO servers and ALTO clients either stand alone or are embedded within other
applications.<a href="#section-12.1-3.18.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-3.19">
Additional information:  </dt>
          <dd style="margin-left: 1.5em" id="section-12.1-3.20">
            <span class="break"></span><dl class="dlParallel" id="section-12.1-3.20.1">
              <dt id="section-12.1-3.20.1.1">
Magic number(s):      </dt>
              <dd style="margin-left: 1.5em" id="section-12.1-3.20.1.2">
                <p id="section-12.1-3.20.1.2.1">n/a<a href="#section-12.1-3.20.1.2.1" class="pilcrow">¶</a></p>
</dd>
              <dd class="break"></dd>
<dt id="section-12.1-3.20.1.3">
File extension(s):      </dt>
              <dd style="margin-left: 1.5em" id="section-12.1-3.20.1.4">
                <p id="section-12.1-3.20.1.4.1">This document uses the mime type to refer to protocol messages and thus does
not require a file extension.<a href="#section-12.1-3.20.1.4.1" class="pilcrow">¶</a></p>
</dd>
              <dd class="break"></dd>
<dt id="section-12.1-3.20.1.5">
Macintosh file type code(s):      </dt>
              <dd style="margin-left: 1.5em" id="section-12.1-3.20.1.6">
                <p id="section-12.1-3.20.1.6.1">n/a<a href="#section-12.1-3.20.1.6.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
</dl>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-3.21">
Person &amp; email address to contact for further information:  </dt>
          <dd style="margin-left: 1.5em" id="section-12.1-3.22">
            <p id="section-12.1-3.22.1">See Authors' Addresses section.<a href="#section-12.1-3.22.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-3.23">
Intended usage:  </dt>
          <dd style="margin-left: 1.5em" id="section-12.1-3.24">
            <p id="section-12.1-3.24.1">COMMON<a href="#section-12.1-3.24.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-3.25">
Restrictions on usage:  </dt>
          <dd style="margin-left: 1.5em" id="section-12.1-3.26">
            <p id="section-12.1-3.26.1">n/a<a href="#section-12.1-3.26.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-3.27">
Author:  </dt>
          <dd style="margin-left: 1.5em" id="section-12.1-3.28">
            <p id="section-12.1-3.28.1">See Authors' Addresses section.<a href="#section-12.1-3.28.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-3.29">
Change controller:  </dt>
          <dd style="margin-left: 1.5em" id="section-12.1-3.30">
            <p id="section-12.1-3.30.1">Internet Engineering Task Force (mailto:iesg@ietf.org).<a href="#section-12.1-3.30.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="IANADomain">
<section id="section-12.2">
        <h3 id="name-alto-entity-domain-type-reg">
<a href="#section-12.2" class="section-number selfRef">12.2. </a><a href="#name-alto-entity-domain-type-reg" class="section-name selfRef">ALTO Entity Domain Type Registry</a>
        </h3>
<p id="section-12.2-1">This document requests IANA to create and maintain the "ALTO Entity Domain Type
Registry", listed in <a href="#TableEntityDomainNames" class="xref">Table 2</a>.<a href="#section-12.2-1" class="pilcrow">¶</a></p>
<span id="name-alto-entity-domain-types"></span><div id="TableEntityDomainNames">
<table class="center" id="table-2">
          <caption>
<a href="#table-2" class="selfRef">Table 2</a>:
<a href="#name-alto-entity-domain-types" class="selfRef">ALTO Entity Domain Types</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Identifier</th>
              <th class="text-left" rowspan="1" colspan="1">Entity Identifier Encoding</th>
              <th class="text-left" rowspan="1" colspan="1">Hierarchy &amp; Inheritance</th>
              <th class="text-left" rowspan="1" colspan="1">Media Type of Defining Resource</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">ipv4</td>
              <td class="text-left" rowspan="1" colspan="1">See <a href="#ipv4-domain" class="xref">Section 6.1.1</a>
</td>
              <td class="text-left" rowspan="1" colspan="1">See <a href="#inet-inheritance" class="xref">Section 6.1.3</a>
</td>
              <td class="text-left" rowspan="1" colspan="1">application/alto-networkmap+json</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">ipv6</td>
              <td class="text-left" rowspan="1" colspan="1">See <a href="#ipv6-domain" class="xref">Section 6.1.2</a>
</td>
              <td class="text-left" rowspan="1" colspan="1">See <a href="#inet-inheritance" class="xref">Section 6.1.3</a>
</td>
              <td class="text-left" rowspan="1" colspan="1">application/alto-networkmap+json</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">pid</td>
              <td class="text-left" rowspan="1" colspan="1">See <a href="#pid-domain" class="xref">Section 6.2</a>
</td>
              <td class="text-left" rowspan="1" colspan="1">None</td>
              <td class="text-left" rowspan="1" colspan="1">application/alto-networkmap+json</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-12.2-3">This registry serves two purposes. First, it ensures uniqueness of
identifiers referring to ALTO entity domain types. Second, it states the
requirements for allocated entity domain types.<a href="#section-12.2-3" class="pilcrow">¶</a></p>
<div id="consistency-procedure">
<section id="section-12.2.1">
          <h4 id="name-consistency-between-alto-ad">
<a href="#section-12.2.1" class="section-number selfRef">12.2.1. </a><a href="#name-consistency-between-alto-ad" class="section-name selfRef">Consistency between ALTO Address Type Registry and ALTO Entity Domain Type Registry</a>
          </h4>
<p id="section-12.2.1-1">One potential issue of introducing the "ALTO Entity Domain Type Registry" is
its relationship with the "ALTO Address Types Registry" already defined in
Section 14.4 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>. In particular, the entity identifier of a type
of an entity domain registered in the "ALTO Entity Domain Type Registry" MAY
match an address type defined in "ALTO Address Type Registry". It is
necessary to precisely define and guarantee the consistency between "ALTO
Address Type Registry" and "ALTO Entity Domain Registry".<a href="#section-12.2.1-1" class="pilcrow">¶</a></p>
<p id="section-12.2.1-2">We define that the ALTO Entity Domain Type Registry is consistent with ALTO
Address Type Registry if two conditions are satisfied:<a href="#section-12.2.1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12.2.1-3.1">When an address type is already or able to be registered in the ALTO Address
Type Registry <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>, the same identifier MUST be used when a
corresponding entity domain type is registered in the ALTO Entity Domain Type
Registry.<a href="#section-12.2.1-3.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-12.2.1-3.2">If an ALTO entity domain type has the same identifier as an ALTO address type,
their addresses encoding MUST be compatible.<a href="#section-12.2.1-3.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-12.2.1-4">To achieve this consistency, the following items MUST be checked before
registering a new ALTO entity domain type in a future document:<a href="#section-12.2.1-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12.2.1-5.1">Whether the ALTO Address Type Registry contains an address type that can be
used as an identifier for the candidate entity domain type identifier. This has been
done for the identifiers "ipv4" and "ipv6" of <a href="#TableEntityDomainNames" class="xref">Table 2</a>.<a href="#section-12.2.1-5.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-12.2.1-5.2">Whether the candidate entity domain type identifier can potentially be an
endpoint address type, as defined in Sections 2.1 and 2.2 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>.<a href="#section-12.2.1-5.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-12.2.1-6">When a new ALTO entity domain type is registered, the consistency with the ALTO
Address Type Registry MUST be ensured by the following procedure:<a href="#section-12.2.1-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12.2.1-7.1">
              <p id="section-12.2.1-7.1.1">Test: Do corresponding entity domain type identifiers match a known "network" address type?<a href="#section-12.2.1-7.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12.2.1-7.1.2.1">
                  <p id="section-12.2.1-7.1.2.1.1">If yes (e.g., cell, MAC or socket addresses):<a href="#section-12.2.1-7.1.2.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12.2.1-7.1.2.1.2.1">
                      <p id="section-12.2.1-7.1.2.1.2.1.1">Test: Is such an address type present in the ALTO Address Type
Registry?<a href="#section-12.2.1-7.1.2.1.2.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12.2.1-7.1.2.1.2.1.2.1">If yes: Set the new ALTO entity domain type identifier to be the
found ALTO address type identifier.<a href="#section-12.2.1-7.1.2.1.2.1.2.1" class="pilcrow">¶</a>
</li>
                        <li class="normal" id="section-12.2.1-7.1.2.1.2.1.2.2">If no: Define a new ALTO entity domain type identifier and use it to
register a new address type in the ALTO Address Type Registry
following Section 14.4 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>.<a href="#section-12.2.1-7.1.2.1.2.1.2.2" class="pilcrow">¶</a>
</li>
                      </ul>
</li>
                    <li class="normal" id="section-12.2.1-7.1.2.1.2.2">Use the new ALTO entity domain type identifier to register a new ALTO
entity domain type in the ALTO Entity Domain Type Registry following
<a href="#dom-reg-process" class="xref">Section 12.2.2</a> of this document.<a href="#section-12.2.1-7.1.2.1.2.2" class="pilcrow">¶</a>
</li>
                  </ul>
</li>
                <li class="normal" id="section-12.2.1-7.1.2.2">If no (e.g., pid name, ane name or country code): Proceed with the ALTO
Entity Domain Type registration as described in <a href="#dom-reg-process" class="xref">Section 12.2.2</a>.<a href="#section-12.2.1-7.1.2.2" class="pilcrow">¶</a>
</li>
              </ul>
</li>
          </ul>
</section>
</div>
<div id="dom-reg-process">
<section id="section-12.2.2">
          <h4 id="name-alto-entity-domain-type-regi">
<a href="#section-12.2.2" class="section-number selfRef">12.2.2. </a><a href="#name-alto-entity-domain-type-regi" class="section-name selfRef">ALTO Entity Domain Type Registration Process</a>
          </h4>
<p id="section-12.2.2-1">New ALTO entity domain types are assigned after IETF Review <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span> to
ensure that proper documentation regarding the new ALTO entity domain types
and their security considerations has been provided. RFCs defining new entity
domain types SHOULD indicate how an entity in a registered type of domain is
encoded as an EntityID, and, if applicable, the rules defining the entity
hierarchy and property inheritance. Updates and deletions of ALTO entity
domains types follow the same procedure.<a href="#section-12.2.2-1" class="pilcrow">¶</a></p>
<p id="section-12.2.2-2">Registered ALTO entity domain type identifiers MUST conform to the
syntactical requirements specified in <a href="#domain-names" class="xref">Section 5.1.2</a>. Identifiers are to
be recorded and displayed as strings.<a href="#section-12.2.2-2" class="pilcrow">¶</a></p>
<p id="section-12.2.2-3">Requests to the IANA to add a new value to the Entity Domain Type registry
MUST include the following information:<a href="#section-12.2.2-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12.2.2-4.1">Identifier: The name of the desired ALTO entity domain type.<a href="#section-12.2.2-4.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-12.2.2-4.2">Entity Identifier Encoding: The procedure for encoding the identifier of an
entity of the registered domain type as an EntityID (see
<a href="#entity-addrs" class="xref">Section 5.1.3</a>). If corresponding entity identifiers of an entity domain
type match a known "network" address type, the Entity Identifier Encoding
of this domain identifier MUST include both Address Encoding and Prefix
Encoding of the same identifier registered in the ALTO Address Type
Registry <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>. To define properties, an individual entity identifier
and the corresponding full-length prefix MUST be considered aliases for the
same entity.<a href="#section-12.2.2-4.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-12.2.2-4.3">Hierarchy: If the entities form a hierarchy, the procedure for determining
that hierarchy.<a href="#section-12.2.2-4.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-12.2.2-4.4">Inheritance: If entities can inherit property values from other entities, the
procedure for determining that inheritance.<a href="#section-12.2.2-4.4" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-12.2.2-4.5">
              <p id="section-12.2.2-4.5.1">Media type of defining information resource: some entity domain types allow
an entity domain name to be combined with an information resource name to
define a resource-specific entity domain. Such an information resource is
called "defining information resource". In this case, the authorized media
type of the defining information resources MUST be unique and MUST be
specified in the document defining the entity domain type. When an entity
domain type allows combinations with defining resources, this must be
indicated and the conditions fully specified in the document.
The defining information resource for a resource-specific entity domain is the one
that:<a href="#section-12.2.2-4.5.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12.2.2-4.5.2.1">has an entry in the IRD,<a href="#section-12.2.2-4.5.2.1" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-12.2.2-4.5.2.2">defines these entities,<a href="#section-12.2.2-4.5.2.2" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-12.2.2-4.5.2.3">does not use another information resource that defines these entities,<a href="#section-12.2.2-4.5.2.3" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-12.2.2-4.5.2.4">defines and exposes entity identifiers that are all persistent.<a href="#section-12.2.2-4.5.2.4" class="pilcrow">¶</a>
</li>
                <li class="normal" id="section-12.2.2-4.5.2.5">has a unique media type equal to the one specified in the document
defining the entity domain type.<a href="#section-12.2.2-4.5.2.5" class="pilcrow">¶</a>
</li>
              </ul>
</li>
            <li class="normal" id="section-12.2.2-4.6">Knowing the media type of the defining information resource is useful when
Servers indicate resource specific entity domains in the property map
capabilities. Clients need to know if the combination of information
resource type and entity domain type is allowed. See also,
<a href="#def-ir" class="xref">Section 4.6</a> and <a href="#def-domain" class="xref">Section 5.1</a> for more
information.<a href="#section-12.2.2-4.6" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-12.2.2-4.7">Mapping to ALTO Address Type: A boolean value to indicate if the entity domain
type can be mapped to the ALTO address type with the same identifier.<a href="#section-12.2.2-4.7" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-12.2.2-4.8">Security Considerations: In some usage scenarios, entity identifiers carried in
ALTO Protocol messages may reveal information about an ALTO client or an ALTO
service provider. Applications and ALTO service providers using addresses of
the registered type should be cognizant of how (or if) the addressing scheme
relates to private information and network proximity.<a href="#section-12.2.2-4.8" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-12.2.2-5">This specification requests registration of the identifiers "ipv4", "ipv6" and
"pid", as shown in <a href="#TableEntityDomainNames" class="xref">Table 2</a>.<a href="#section-12.2.2-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="IANAEntityProp">
<section id="section-12.3">
        <h3 id="name-alto-entity-property-type-r">
<a href="#section-12.3" class="section-number selfRef">12.3. </a><a href="#name-alto-entity-property-type-r" class="section-name selfRef">ALTO Entity Property Type Registry</a>
        </h3>
<p id="section-12.3-1">This document requests IANA to create and maintain the "ALTO Entity Property
Type Registry", listed in <a href="#TablePropertyTypes" class="xref">Table 3</a>.<a href="#section-12.3-1" class="pilcrow">¶</a></p>
<p id="section-12.3-2">This registry extends the "ALTO Endpoint Property Type Registry", defined in
<span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>, in that a property type is defined on one or more entity
domains, rather than just on IPv4 and IPv6 Internet address domains. An entry
in this registry is an ALTO entity property type defined in
<a href="#def-property-type" class="xref">Section 5.2.1</a>. Thus, a registered ALTO entity property type
identifier MUST conform to the syntactical requirements specified in that
section.<a href="#section-12.3-2" class="pilcrow">¶</a></p>
<span id="name-alto-entity-property-types"></span><div id="TablePropertyTypes">
<table class="center" id="table-3">
          <caption>
<a href="#table-3" class="selfRef">Table 3</a>:
<a href="#name-alto-entity-property-types" class="selfRef">ALTO Entity Property Types.</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Identifier</th>
              <th class="text-left" rowspan="1" colspan="1">Intended Semantics</th>
              <th class="text-left" rowspan="1" colspan="1">Media Type of Defining Resource</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">pid</td>
              <td class="text-left" rowspan="1" colspan="1">See Section 7.1.1 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>
</td>
              <td class="text-left" rowspan="1" colspan="1">application/alto-networkmap+json</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-12.3-4">Requests to the IANA to add a new value to the registry MUST include the
following information:<a href="#section-12.3-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-12.3-5.1">Identifier: The unique id for the desired ALTO entity property type. The
format MUST be as defined in <a href="#def-property-type" class="xref">Section 5.2.1</a> of this document. It
includes the information of the applied ALTO entity domain and the property
name.<a href="#section-12.3-5.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.3-5.2">Intended Semantics: ALTO entity properties carry with them semantics to guide
their usage by ALTO clients. Hence, a document defining a new type SHOULD
provide guidance to both ALTO service providers and applications utilizing
ALTO clients as to how values of the registered ALTO entity property should
be interpreted.<a href="#section-12.3-5.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.3-5.3">Media type of defining information resource: when the property type allows
values to be defined relatively to a given information resource, the latter
is referred to as the "defining information resource", see also description
in <a href="#def-ir-for-irsp" class="xref">Section 4.7</a>. The media type of the possibly used defining
information resource MUST be unique and MUST be specified.<a href="#section-12.3-5.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-12.3-5.4">Security Considerations: ALTO entity properties expose information to ALTO
clients. ALTO service providers should be cognizant of the security
ramifications related to the exposure of an entity property.<a href="#section-12.3-5.4" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-12.3-6">In security considerations, the request should also discuss the sensitivity
of the information, and why it is required for ALTO-based operations.
Regarding this discussion, the request SHOULD follow the recommendations of
Section 14.3. ALTO Endpoint Property Type Registry in <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>.<a href="#section-12.3-6" class="pilcrow">¶</a></p>
<p id="section-12.3-7">This document requests registration of the identifier "pid", listed in
<a href="#TablePropertyTypes" class="xref">Table 3</a>. Semantics for this property are documented in
Section 7.1.1 of <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>. No security issues related to the exposure of a
"pid" identifier are considered, as it is exposed with the Network Map
Service defined and mandated in <span>[<a href="#RFC7285" class="xref">RFC7285</a>]</span>.<a href="#section-12.3-7" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="ack">
<section id="section-13">
      <h2 id="name-acknowledgments">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="section-13-1">The authors would like to thank Dawn Chen (Tongji University), and Shenshen
Chen (Tongji/Yale University) for their contributions to earlier drafts.
Thank you also to Qiao Xiang (Yale University), Shawn Lin, Xin Wang and Vijay
Gurbani (Vail systems) for fruitful discussions. Last, big thanks to Danny
Perez (University of Campinas) and Luis Contreras (Telefonica) for their
substantial review feedback and suggestions to improve this document.<a href="#section-13-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-14">
      <h2 id="name-references">
<a href="#section-14" class="section-number selfRef">14. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-14.1">
        <h3 id="name-normative-references">
<a href="#section-14.1" class="section-number selfRef">14.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="ISO3166-1">[ISO3166-1]</dt>
        <dd>
<span class="refAuthor">ISO (International Organization for Standardization), .</span>, <span class="refTitle">"ISO 3166-1: Codes for the representation of names of countries and their subdivisions -- Part 1: Country codes"</span>, <time datetime="2020" class="refDate">2020</time>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3986">[RFC3986]</dt>
        <dd>
<span class="refAuthor">Berners-Lee, T.</span>, <span class="refAuthor">Fielding, R.</span>, and <span class="refAuthor">L. Masinter</span>, <span class="refTitle">"Uniform Resource Identifier (URI): Generic Syntax"</span>, <span class="seriesInfo">STD 66</span>, <span class="seriesInfo">RFC 3986</span>, <span class="seriesInfo">DOI 10.17487/RFC3986</span>, <time datetime="2005-01" class="refDate">January 2005</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/rfc3986">https://datatracker.ietf.org/doc/html/rfc3986</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4632">[RFC4632]</dt>
        <dd>
<span class="refAuthor">Fuller, V.</span> and <span class="refAuthor">T. Li</span>, <span class="refTitle">"Classless Inter-domain Routing (CIDR): The Internet Address Assignment and Aggregation Plan"</span>, <span class="seriesInfo">BCP 122</span>, <span class="seriesInfo">RFC 4632</span>, <span class="seriesInfo">DOI 10.17487/RFC4632</span>, <time datetime="2006-08" class="refDate">August 2006</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/rfc4632">https://datatracker.ietf.org/doc/html/rfc4632</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5246">[RFC5246]</dt>
        <dd>
<span class="refAuthor">Dierks, T.</span> and <span class="refAuthor">E. Rescorla</span>, <span class="refTitle">"The Transport Layer Security (TLS) Protocol Version 1.2"</span>, <span class="seriesInfo">RFC 5246</span>, <span class="seriesInfo">DOI 10.17487/RFC5246</span>, <time datetime="2008-08" class="refDate">August 2008</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/rfc5246">https://datatracker.ietf.org/doc/html/rfc5246</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5952">[RFC5952]</dt>
        <dd>
<span class="refAuthor">Kawamura, S.</span> and <span class="refAuthor">M. Kawashima</span>, <span class="refTitle">"A Recommendation for IPv6 Address Text Representation"</span>, <span class="seriesInfo">RFC 5952</span>, <span class="seriesInfo">DOI 10.17487/RFC5952</span>, <time datetime="2010-08" class="refDate">August 2010</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/rfc5952">https://datatracker.ietf.org/doc/html/rfc5952</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7285">[RFC7285]</dt>
        <dd>
<span class="refAuthor">Alimi, R., Ed.</span>, <span class="refAuthor">Penno, R., Ed.</span>, <span class="refAuthor">Yang, Y., Ed.</span>, <span class="refAuthor">Kiesel, S.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Roome, W.</span>, <span class="refAuthor">Shalunov, S.</span>, and <span class="refAuthor">R. Woundy</span>, <span class="refTitle">"Application-Layer Traffic Optimization (ALTO) Protocol"</span>, <span class="seriesInfo">RFC 7285</span>, <span class="seriesInfo">DOI 10.17487/RFC7285</span>, <time datetime="2014-09" class="refDate">September 2014</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/rfc7285">https://datatracker.ietf.org/doc/html/rfc7285</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8126">[RFC8126]</dt>
        <dd>
<span class="refAuthor">Cotton, M.</span>, <span class="refAuthor">Leiba, B.</span>, and <span class="refAuthor">T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time datetime="2017-06" class="refDate">June 2017</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/rfc8126">https://datatracker.ietf.org/doc/html/rfc8126</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/rfc8174">https://datatracker.ietf.org/doc/html/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8259">[RFC8259]</dt>
        <dd>
<span class="refAuthor">Bray, T., Ed.</span>, <span class="refTitle">"The JavaScript Object Notation (JSON) Data Interchange Format"</span>, <span class="seriesInfo">STD 90</span>, <span class="seriesInfo">RFC 8259</span>, <span class="seriesInfo">DOI 10.17487/RFC8259</span>, <time datetime="2017-12" class="refDate">December 2017</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/rfc8259">https://datatracker.ietf.org/doc/html/rfc8259</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8446">[RFC8446]</dt>
      <dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refTitle">"The Transport Layer Security (TLS) Protocol Version 1.3"</span>, <span class="seriesInfo">RFC 8446</span>, <span class="seriesInfo">DOI 10.17487/RFC8446</span>, <time datetime="2018-08" class="refDate">August 2018</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/rfc8446">https://datatracker.ietf.org/doc/html/rfc8446</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-14.2">
        <h3 id="name-informative-references">
<a href="#section-14.2" class="section-number selfRef">14.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.gao-alto-fcs">[I-D.gao-alto-fcs]</dt>
        <dd>
<span class="refAuthor">Zhang, J. J.</span>, <span class="refAuthor">Gao, K.</span>, <span class="refAuthor">Wang, J.</span>, and <span class="refAuthor">Y. R. Yang</span>, <span class="refTitle">"ALTO Extension: Flow-based Cost Query"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-gao-alto-fcs-07</span>, <time datetime="2020-03-16" class="refDate">16 March 2020</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-gao-alto-fcs-07.txt">https://datatracker.ietf.org/doc/html/draft-gao-alto-fcs-07.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-alto-cdni-request-routing-alto">[I-D.ietf-alto-cdni-request-routing-alto]</dt>
        <dd>
<span class="refAuthor">Seedorf, J.</span>, <span class="refAuthor">Yang, Y.</span>, <span class="refAuthor">Ma, K. J.</span>, <span class="refAuthor">Peterson, J.</span>, and <span class="refAuthor">J. J. Zhang</span>, <span class="refTitle">"Content Delivery Network Interconnection (CDNI) Request Routing: CDNI Footprint and Capabilities Advertisement using ALTO"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-alto-cdni-request-routing-alto-16</span>, <time datetime="2021-01-12" class="refDate">12 January 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-alto-cdni-request-routing-alto-16.txt">https://datatracker.ietf.org/doc/html/draft-ietf-alto-cdni-request-routing-alto-16.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-alto-path-vector">[I-D.ietf-alto-path-vector]</dt>
        <dd>
<span class="refAuthor">Gao, K.</span>, <span class="refAuthor">Lee, Y.</span>, <span class="refAuthor">Randriamasy, S.</span>, <span class="refAuthor">Yang, Y. R.</span>, and <span class="refAuthor">J. J. Zhang</span>, <span class="refTitle">"ALTO Extension: Path Vector"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-alto-path-vector-14</span>, <time datetime="2021-02-22" class="refDate">22 February 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-alto-path-vector-14.txt">https://datatracker.ietf.org/doc/html/draft-ietf-alto-path-vector-14.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7011">[RFC7011]</dt>
        <dd>
<span class="refAuthor">Claise, B., Ed.</span>, <span class="refAuthor">Trammell, B., Ed.</span>, and <span class="refAuthor">P. Aitken</span>, <span class="refTitle">"Specification of the IP Flow Information Export (IPFIX) Protocol for the Exchange of Flow Information"</span>, <span class="seriesInfo">STD 77</span>, <span class="seriesInfo">RFC 7011</span>, <span class="seriesInfo">DOI 10.17487/RFC7011</span>, <time datetime="2013-09" class="refDate">September 2013</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/rfc7011">https://datatracker.ietf.org/doc/html/rfc7011</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7921">[RFC7921]</dt>
        <dd>
<span class="refAuthor">Atlas, A.</span>, <span class="refAuthor">Halpern, J.</span>, <span class="refAuthor">Hares, S.</span>, <span class="refAuthor">Ward, D.</span>, and <span class="refAuthor">T. Nadeau</span>, <span class="refTitle">"An Architecture for the Interface to the Routing System"</span>, <span class="seriesInfo">RFC 7921</span>, <span class="seriesInfo">DOI 10.17487/RFC7921</span>, <time datetime="2016-06" class="refDate">June 2016</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/rfc7921">https://datatracker.ietf.org/doc/html/rfc7921</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8895">[RFC8895]</dt>
        <dd>
<span class="refAuthor">Roome, W.</span> and <span class="refAuthor">Y. Yang</span>, <span class="refTitle">"Application-Layer Traffic Optimization (ALTO) Incremental Updates Using Server-Sent Events (SSE)"</span>, <span class="seriesInfo">RFC 8895</span>, <span class="seriesInfo">DOI 10.17487/RFC8895</span>, <time datetime="2020-11" class="refDate">November 2020</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/rfc8895">https://datatracker.ietf.org/doc/html/rfc8895</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8896">[RFC8896]</dt>
      <dd>
<span class="refAuthor">Randriamasy, S.</span>, <span class="refAuthor">Yang, R.</span>, <span class="refAuthor">Wu, Q.</span>, <span class="refAuthor">Deng, L.</span>, and <span class="refAuthor">N. Schwan</span>, <span class="refTitle">"Application-Layer Traffic Optimization (ALTO) Cost Calendar"</span>, <span class="seriesInfo">RFC 8896</span>, <span class="seriesInfo">DOI 10.17487/RFC8896</span>, <time datetime="2020-11" class="refDate">November 2020</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/rfc8896">https://datatracker.ietf.org/doc/html/rfc8896</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="features-introduced-with-epm-extension">
<section id="section-appendix.a">
      <h2 id="name-features-introduced-with-th">
<a href="#section-appendix.a" class="section-number selfRef">Appendix A. </a><a href="#name-features-introduced-with-th" class="section-name selfRef">Features introduced with the Entity Property Maps extension</a>
      </h2>
<p id="section-appendix.a-1">The Entity Property Maps extension described in this document introduces a
number of features that are summarized in table below. The first column
provides the name of the feature. The second column provides the section
number of this document that gives a high level description of the feature.
The third column provides the section number of this document that gives a
normative description relating to the feature, when applicable.<a href="#section-appendix.a-1" class="pilcrow">¶</a></p>
<span id="name-features-introduced-with-al"></span><div id="TableUPFeatures">
<table class="center" id="table-4">
        <caption>
<a href="#table-4" class="selfRef">Table 4</a>:
<a href="#name-features-introduced-with-al" class="selfRef">Features introduced with ALTO Entity Property Maps</a>
        </caption>
<thead>
          <tr>
            <th class="text-left" rowspan="1" colspan="1">Feature</th>
            <th class="text-left" rowspan="1" colspan="1">High-level description</th>
            <th class="text-left" rowspan="1" colspan="1">Related normative description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Entity</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#con-entity" class="xref">Section 3.1</a>
</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#entity-addrs" class="xref">Section 5.1.3</a>
</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Entity domain (ED)</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#con-entity-domain" class="xref">Section 3.2</a>
</td>
            <td class="text-left" rowspan="1" colspan="1"> </td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Entity domain type</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#con-entity-domain-type" class="xref">Section 3.2.1</a>
</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#domain-types" class="xref">Section 5.1.1</a>
</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Entity domain name</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#con-entity-domain-name" class="xref">Section 3.2.2</a>
</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#domain-names" class="xref">Section 5.1.2</a>
</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Entity property (EP) type</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#con-property" class="xref">Section 3.3</a>
</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#def-property" class="xref">Section 5.2</a>, <a href="#def-property-type" class="xref">Section 5.2.1</a>, <a href="#entity-property-name" class="xref">Section 5.2.2</a>, <a href="#format-entity-property-value" class="xref">Section 5.2.3</a>
</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Entity property map</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#con-propmap" class="xref">Section 3.4</a>
</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#prop-map" class="xref">Section 7</a>, <a href="#filter-prop-map" class="xref">Section 8</a>
</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Resource-specific ED name</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#rsed-name" class="xref">Section 4.2</a>
</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#domain-names" class="xref">Section 5.1.2</a>, <a href="#resource-specific-ED" class="xref">Section 5.1.2.1</a>
</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Resource-specific EP value</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#rsep" class="xref">Section 4.3</a>
</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#format-entity-property-value" class="xref">Section 5.2.3</a>
</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Entity Hierarchy and property inheritance</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#con-hni" class="xref">Section 4.4</a>
</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#def-hierarchy-and-inheritance" class="xref">Section 5.1.4</a>
</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Defining information resource</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#def-ir" class="xref">Section 4.6</a>, <a href="#def-ir-for-irsp" class="xref">Section 4.7</a>
</td>
            <td class="text-left" rowspan="1" colspan="1">
              <a href="#dom-reg-process" class="xref">Section 12.2.2</a>, <a href="#IANAEntityProp" class="xref">Section 12.3</a>
</td>
          </tr>
        </tbody>
      </table>
</div>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.b">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Wendy Roome</span></div>
<div dir="auto" class="left"><span class="org">Nokia Bell Labs (Retired)</span></div>
<div dir="auto" class="left"><span class="street-address">124 Burlington Rd</span></div>
<div dir="auto" class="left">
<span class="locality">Murray Hill</span>, <span class="region">NJ</span> <span class="postal-code">07974</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+1-908-464-6975" class="tel">+1-908-464-6975</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:wendy@wdroome.com" class="email">wendy@wdroome.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Sabine Randriamasy</span></div>
<div dir="auto" class="left"><span class="org">Nokia Bell Labs</span></div>
<div dir="auto" class="left"><span class="street-address">Route de Villejust</span></div>
<div dir="auto" class="left">
<span class="postal-code">91460</span> <span class="locality">NOZAY</span>
</div>
<div dir="auto" class="left"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:Sabine.Randriamasy@nokia-bell-labs.com" class="email">Sabine.Randriamasy@nokia-bell-labs.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Y. Richard Yang</span></div>
<div dir="auto" class="left"><span class="org">Yale University</span></div>
<div dir="auto" class="left"><span class="street-address">51 Prospect Street</span></div>
<div dir="auto" class="left">
<span class="locality">New Haven</span>,  <span class="postal-code">CT 06511</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+1-203-432-6400" class="tel">+1-203-432-6400</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:yry@cs.yale.edu" class="email">yry@cs.yale.edu</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jingxuan Jensen Zhang</span></div>
<div dir="auto" class="left"><span class="org">Tongji University</span></div>
<div dir="auto" class="left"><span class="street-address">4800 Cao'An Hwy</span></div>
<div dir="auto" class="left"><span class="locality">Shanghai</span></div>
<div dir="auto" class="left"><span class="postal-code">201804</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:jingxuan.n.zhang@gmail.com" class="email">jingxuan.n.zhang@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Kai Gao</span></div>
<div dir="auto" class="left"><span class="org">Sichuan University</span></div>
<div dir="auto" class="left"><span class="street-address">No.24 South Section 1, Yihuan Road</span></div>
<div dir="auto" class="left"><span class="locality">Chengdu</span></div>
<div dir="auto" class="left"><span class="postal-code">610000</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:kaigao@scu.edu.cn" class="email">kaigao@scu.edu.cn</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
